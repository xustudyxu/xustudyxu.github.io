<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Nginx é™æ€èµ„æºéƒ¨ç½² | xustudyxu&#39;s Blog</title>
    <meta name="generator" content="VuePress 1.9.10">
    <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?e1aa9d15d62220ec692a843c08c79000";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
    </script>        
    </script>
    <script src="https://fastly.jsdelivr.net/npm/twikoo@1.5.11/dist/twikoo.all.min.js"></script>
    <script href="./js/index.js" async="async"></script>
    <link rel="icon" href="https://jsdelivr.codeqihan.com//gh/xustudyxu/image-hosting@master/20220627/mmexport1656324824543.124zxwkqyzlc.webp">
    <script charset="utf-8" href="./js/main.js"></script>
    <link rel="stylesheet" href="https://at.alicdn.com/t/font_3077305_pt8umhrn4k9.css">
    <link rel="stylesheet" href="//at.alicdn.com/t/font_3114978_qe0b39no76.css">
    <meta name="description" content="ä¸€èµ·å­¦ä¹ ç¼–ç¨‹!">
    <meta name="image" content="https://jsdelivr.codeqihan.com//gh/xustudyxu/image-hosting1@master/20220730/image.2e5c4uo1ghlw.webp">
    <meta name="twitter:title" content="Nginx é™æ€èµ„æºéƒ¨ç½²">
    <meta name="twitter:description" content="">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="https://jsdelivr.codeqihan.com//gh/xustudyxu/image-hosting1@master/20220730/image.2e5c4uo1ghlw.webp">
    <meta name="twitter:url" content="https://frxcat.fun/studynotes/middleware/Nginx/Nginx_Static_resource_deployment.html">
    <meta name="twitter:site" content="@frxcat">
    <meta property="og:type" content="article">
    <meta property="og:title" content="Nginx é™æ€èµ„æºéƒ¨ç½²">
    <meta property="og:description" content="">
    <meta property="og:image" content="https://jsdelivr.codeqihan.com//gh/xustudyxu/image-hosting1@master/20220730/image.2e5c4uo1ghlw.webp">
    <meta property="og:url" content="https://frxcat.fun/studynotes/middleware/Nginx/Nginx_Static_resource_deployment.html">
    <meta property="og:site_name" content="frxcat">
    <meta property="article:published_time" content="2022-07-31T00:24:20.000Z">
    <meta property="article:tag" content="Nginx">
    <meta itemprop="name" content="Nginx é™æ€èµ„æºéƒ¨ç½²">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="https://jsdelivr.codeqihan.com//gh/xustudyxu/image-hosting1@master/20220730/image.2e5c4uo1ghlw.webp">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <meta name="baidu-site-verification" content="code-5aMKYEt9fV">
    <link rel="preload" href="/assets/css/0.styles.83a33c40.css" as="style"><link rel="preload" href="/assets/js/app.4955f045.js" as="script"><link rel="preload" href="/assets/js/3.d7147f30.js" as="script"><link rel="preload" href="/assets/js/2.06384a8f.js" as="script"><link rel="preload" href="/assets/js/313.61965c0b.js" as="script"><link rel="preload" href="/assets/js/21.56563fe6.js" as="script"><link rel="preload" href="/assets/js/44.b2c4405b.js" as="script"><link rel="preload" href="/assets/js/26.0926361f.js" as="script"><link rel="preload" href="/assets/js/27.983951e8.js" as="script"><link rel="prefetch" href="/assets/js/1.824c4a45.js"><link rel="prefetch" href="/assets/js/10.7ce79a31.js"><link rel="prefetch" href="/assets/js/100.ffda3ba0.js"><link rel="prefetch" href="/assets/js/101.97f1f0f3.js"><link rel="prefetch" href="/assets/js/102.28121eb8.js"><link rel="prefetch" href="/assets/js/103.0fc5eb83.js"><link rel="prefetch" href="/assets/js/104.1787b574.js"><link rel="prefetch" href="/assets/js/105.ab685e88.js"><link rel="prefetch" href="/assets/js/106.1d957fb0.js"><link rel="prefetch" href="/assets/js/107.47afc3a8.js"><link rel="prefetch" href="/assets/js/108.84399f88.js"><link rel="prefetch" href="/assets/js/109.f5e928df.js"><link rel="prefetch" href="/assets/js/11.15750cc8.js"><link rel="prefetch" href="/assets/js/110.252b65e2.js"><link rel="prefetch" href="/assets/js/111.d46c182c.js"><link rel="prefetch" href="/assets/js/112.4a0c887f.js"><link rel="prefetch" href="/assets/js/113.d817adb9.js"><link rel="prefetch" href="/assets/js/114.08562ff1.js"><link rel="prefetch" href="/assets/js/115.5213c5f1.js"><link rel="prefetch" href="/assets/js/116.5eb73a0e.js"><link rel="prefetch" href="/assets/js/117.01a5c54f.js"><link rel="prefetch" href="/assets/js/118.66cb7195.js"><link rel="prefetch" href="/assets/js/119.69fa746e.js"><link rel="prefetch" href="/assets/js/12.f647df2d.js"><link rel="prefetch" href="/assets/js/120.7ffdbd83.js"><link rel="prefetch" href="/assets/js/121.6b4bf6ef.js"><link rel="prefetch" href="/assets/js/122.bc561cb0.js"><link rel="prefetch" href="/assets/js/123.f6dcec00.js"><link rel="prefetch" href="/assets/js/124.ac7e1df3.js"><link rel="prefetch" href="/assets/js/125.4c8061a6.js"><link rel="prefetch" href="/assets/js/126.c8188fec.js"><link rel="prefetch" href="/assets/js/127.1547a269.js"><link rel="prefetch" href="/assets/js/128.7a3a92aa.js"><link rel="prefetch" href="/assets/js/129.fb1eb93a.js"><link rel="prefetch" href="/assets/js/13.81d78335.js"><link rel="prefetch" href="/assets/js/130.9edcf9f4.js"><link rel="prefetch" href="/assets/js/131.63cc6713.js"><link rel="prefetch" href="/assets/js/132.901dac43.js"><link rel="prefetch" href="/assets/js/133.f50c7a04.js"><link rel="prefetch" href="/assets/js/134.45804187.js"><link rel="prefetch" href="/assets/js/135.c750606f.js"><link rel="prefetch" href="/assets/js/136.4a8abfca.js"><link rel="prefetch" href="/assets/js/137.6da75ee9.js"><link rel="prefetch" href="/assets/js/138.ea688bbe.js"><link rel="prefetch" href="/assets/js/139.9039e9b6.js"><link rel="prefetch" href="/assets/js/14.bb7261bd.js"><link rel="prefetch" href="/assets/js/140.e8263df3.js"><link rel="prefetch" href="/assets/js/141.bce8b10e.js"><link rel="prefetch" href="/assets/js/142.ae993908.js"><link rel="prefetch" href="/assets/js/143.71ee1b96.js"><link rel="prefetch" href="/assets/js/144.60372a7c.js"><link rel="prefetch" href="/assets/js/145.8c9a7820.js"><link rel="prefetch" href="/assets/js/146.c2d999f3.js"><link rel="prefetch" href="/assets/js/147.cb995273.js"><link rel="prefetch" href="/assets/js/148.3882a6c2.js"><link rel="prefetch" href="/assets/js/149.1f48b299.js"><link rel="prefetch" href="/assets/js/15.3ee4934a.js"><link rel="prefetch" href="/assets/js/150.598053fe.js"><link rel="prefetch" href="/assets/js/151.06610092.js"><link rel="prefetch" href="/assets/js/152.b066de39.js"><link rel="prefetch" href="/assets/js/153.a526a861.js"><link rel="prefetch" href="/assets/js/154.6f64be27.js"><link rel="prefetch" href="/assets/js/155.223d0952.js"><link rel="prefetch" href="/assets/js/156.5f726c38.js"><link rel="prefetch" href="/assets/js/157.05b11e1e.js"><link rel="prefetch" href="/assets/js/158.f2e6e770.js"><link rel="prefetch" href="/assets/js/159.f4fbb9d2.js"><link rel="prefetch" href="/assets/js/16.c8e6d991.js"><link rel="prefetch" href="/assets/js/160.8f69bfbe.js"><link rel="prefetch" href="/assets/js/161.eea8d9c0.js"><link rel="prefetch" href="/assets/js/162.93dc95d5.js"><link rel="prefetch" href="/assets/js/163.d7555ad5.js"><link rel="prefetch" href="/assets/js/164.d6e72bea.js"><link rel="prefetch" href="/assets/js/165.a9541677.js"><link rel="prefetch" href="/assets/js/166.2b05d4dc.js"><link rel="prefetch" href="/assets/js/167.aba2871d.js"><link rel="prefetch" href="/assets/js/168.56c921ae.js"><link rel="prefetch" href="/assets/js/169.1b57dfc6.js"><link rel="prefetch" href="/assets/js/17.848716f1.js"><link rel="prefetch" href="/assets/js/170.984fd8d3.js"><link rel="prefetch" href="/assets/js/171.29e05752.js"><link rel="prefetch" href="/assets/js/172.e6849365.js"><link rel="prefetch" href="/assets/js/173.df12d298.js"><link rel="prefetch" href="/assets/js/174.f59836af.js"><link rel="prefetch" href="/assets/js/175.decc0b18.js"><link rel="prefetch" href="/assets/js/176.fae02636.js"><link rel="prefetch" href="/assets/js/177.eec75463.js"><link rel="prefetch" href="/assets/js/178.0bdb6acd.js"><link rel="prefetch" href="/assets/js/179.33b2baaf.js"><link rel="prefetch" href="/assets/js/18.e137756f.js"><link rel="prefetch" href="/assets/js/180.59d4e8b9.js"><link rel="prefetch" href="/assets/js/181.8d0ce9f4.js"><link rel="prefetch" href="/assets/js/182.045c14cc.js"><link rel="prefetch" href="/assets/js/183.e5ebd77c.js"><link rel="prefetch" href="/assets/js/184.ebce314a.js"><link rel="prefetch" href="/assets/js/185.a8203b4c.js"><link rel="prefetch" href="/assets/js/186.cd8f98dd.js"><link rel="prefetch" href="/assets/js/187.dc6f333a.js"><link rel="prefetch" href="/assets/js/188.5bc7e99e.js"><link rel="prefetch" href="/assets/js/189.0a67b0cb.js"><link rel="prefetch" href="/assets/js/19.cf6d35cc.js"><link rel="prefetch" href="/assets/js/190.ff946d45.js"><link rel="prefetch" href="/assets/js/191.07d98970.js"><link rel="prefetch" href="/assets/js/192.652709ba.js"><link rel="prefetch" href="/assets/js/193.2b9d8522.js"><link rel="prefetch" href="/assets/js/194.5954a402.js"><link rel="prefetch" href="/assets/js/195.0db64242.js"><link rel="prefetch" href="/assets/js/196.8118b1aa.js"><link rel="prefetch" href="/assets/js/197.f1307687.js"><link rel="prefetch" href="/assets/js/198.833fa2b9.js"><link rel="prefetch" href="/assets/js/199.8b77b001.js"><link rel="prefetch" href="/assets/js/20.6d85a927.js"><link rel="prefetch" href="/assets/js/200.810bb855.js"><link rel="prefetch" href="/assets/js/201.6d65274f.js"><link rel="prefetch" href="/assets/js/202.a7dbdc7b.js"><link rel="prefetch" href="/assets/js/203.d640113f.js"><link rel="prefetch" href="/assets/js/204.46fe5b90.js"><link rel="prefetch" href="/assets/js/205.89d84b96.js"><link rel="prefetch" href="/assets/js/206.eaa7bacc.js"><link rel="prefetch" href="/assets/js/207.3a11edd3.js"><link rel="prefetch" href="/assets/js/208.ed338ec2.js"><link rel="prefetch" href="/assets/js/209.5a0a6d02.js"><link rel="prefetch" href="/assets/js/210.305cc09b.js"><link rel="prefetch" href="/assets/js/211.ef5c1e96.js"><link rel="prefetch" href="/assets/js/212.b2956a2d.js"><link rel="prefetch" href="/assets/js/213.bcb6e34b.js"><link rel="prefetch" href="/assets/js/214.ba065433.js"><link rel="prefetch" href="/assets/js/215.37fab5e9.js"><link rel="prefetch" href="/assets/js/216.99c87f39.js"><link rel="prefetch" href="/assets/js/217.527dec0c.js"><link rel="prefetch" href="/assets/js/218.a63e3816.js"><link rel="prefetch" href="/assets/js/219.2349d979.js"><link rel="prefetch" href="/assets/js/22.9c9e8d39.js"><link rel="prefetch" href="/assets/js/220.a6977d0f.js"><link rel="prefetch" href="/assets/js/221.79a88942.js"><link rel="prefetch" href="/assets/js/222.285ffff7.js"><link rel="prefetch" href="/assets/js/223.a1c6c3d9.js"><link rel="prefetch" href="/assets/js/224.0c47685a.js"><link rel="prefetch" href="/assets/js/225.a3d85065.js"><link rel="prefetch" href="/assets/js/226.7adcbd5c.js"><link rel="prefetch" href="/assets/js/227.f94ef1d7.js"><link rel="prefetch" href="/assets/js/228.cdea03df.js"><link rel="prefetch" href="/assets/js/229.ec699685.js"><link rel="prefetch" href="/assets/js/23.cdd23c67.js"><link rel="prefetch" href="/assets/js/230.76245f06.js"><link rel="prefetch" href="/assets/js/231.fe3ceeb6.js"><link rel="prefetch" href="/assets/js/232.90096e19.js"><link rel="prefetch" href="/assets/js/233.aad42634.js"><link rel="prefetch" href="/assets/js/234.ce6d7cb3.js"><link rel="prefetch" href="/assets/js/235.bea8a64e.js"><link rel="prefetch" href="/assets/js/236.66375c89.js"><link rel="prefetch" href="/assets/js/237.ee4706fa.js"><link rel="prefetch" href="/assets/js/238.2cb263a4.js"><link rel="prefetch" href="/assets/js/239.349c1fa8.js"><link rel="prefetch" href="/assets/js/24.d61c681d.js"><link rel="prefetch" href="/assets/js/240.106ba9a4.js"><link rel="prefetch" href="/assets/js/241.11632a0e.js"><link rel="prefetch" href="/assets/js/242.d1d145cb.js"><link rel="prefetch" href="/assets/js/243.52a3426f.js"><link rel="prefetch" href="/assets/js/244.2a584fa0.js"><link rel="prefetch" href="/assets/js/245.1fb29f3e.js"><link rel="prefetch" href="/assets/js/246.cd6a4ff6.js"><link rel="prefetch" href="/assets/js/247.7e962282.js"><link rel="prefetch" href="/assets/js/248.2c8794d2.js"><link rel="prefetch" href="/assets/js/249.15a9e798.js"><link rel="prefetch" href="/assets/js/25.0ae8f37e.js"><link rel="prefetch" href="/assets/js/250.9634ba4f.js"><link rel="prefetch" href="/assets/js/251.8dea9ef2.js"><link rel="prefetch" href="/assets/js/252.1ef90246.js"><link rel="prefetch" href="/assets/js/253.c760ad82.js"><link rel="prefetch" href="/assets/js/254.3a85d48c.js"><link rel="prefetch" href="/assets/js/255.c4d5320f.js"><link rel="prefetch" href="/assets/js/256.fbd5919e.js"><link rel="prefetch" href="/assets/js/257.34697e2d.js"><link rel="prefetch" href="/assets/js/258.f9cd5316.js"><link rel="prefetch" href="/assets/js/259.4cede2ec.js"><link rel="prefetch" href="/assets/js/260.50019bf0.js"><link rel="prefetch" href="/assets/js/261.a73b8ea9.js"><link rel="prefetch" href="/assets/js/262.14c31152.js"><link rel="prefetch" href="/assets/js/263.c000bca2.js"><link rel="prefetch" href="/assets/js/264.b8107f16.js"><link rel="prefetch" href="/assets/js/265.85b6b9c1.js"><link rel="prefetch" href="/assets/js/266.694d2f3e.js"><link rel="prefetch" href="/assets/js/267.f116f2e0.js"><link rel="prefetch" href="/assets/js/268.9c97144d.js"><link rel="prefetch" href="/assets/js/269.6fbc62ea.js"><link rel="prefetch" href="/assets/js/270.369846d8.js"><link rel="prefetch" href="/assets/js/271.67b12e6c.js"><link rel="prefetch" href="/assets/js/272.bba3ff96.js"><link rel="prefetch" href="/assets/js/273.13c95743.js"><link rel="prefetch" href="/assets/js/274.2e6e23ae.js"><link rel="prefetch" href="/assets/js/275.ef9864fc.js"><link rel="prefetch" href="/assets/js/276.1144051f.js"><link rel="prefetch" href="/assets/js/277.adf536ed.js"><link rel="prefetch" href="/assets/js/278.3bf25b0f.js"><link rel="prefetch" href="/assets/js/279.aefbd210.js"><link rel="prefetch" href="/assets/js/28.5e8136a7.js"><link rel="prefetch" href="/assets/js/280.28af2ae4.js"><link rel="prefetch" href="/assets/js/281.b82a267a.js"><link rel="prefetch" href="/assets/js/282.8b8c2aef.js"><link rel="prefetch" href="/assets/js/283.6cc25af1.js"><link rel="prefetch" href="/assets/js/284.f6c919b2.js"><link rel="prefetch" href="/assets/js/285.c8b37f1f.js"><link rel="prefetch" href="/assets/js/286.cc62881c.js"><link rel="prefetch" href="/assets/js/287.63bdf0a3.js"><link rel="prefetch" href="/assets/js/288.eff5e5d1.js"><link rel="prefetch" href="/assets/js/289.3495ef91.js"><link rel="prefetch" href="/assets/js/29.589632c5.js"><link rel="prefetch" href="/assets/js/290.3c4e85c5.js"><link rel="prefetch" href="/assets/js/291.4aa17898.js"><link rel="prefetch" href="/assets/js/292.aa916882.js"><link rel="prefetch" href="/assets/js/293.dd76f349.js"><link rel="prefetch" href="/assets/js/294.48d6b678.js"><link rel="prefetch" href="/assets/js/295.b64b3a61.js"><link rel="prefetch" href="/assets/js/296.d42756b8.js"><link rel="prefetch" href="/assets/js/297.adaa2635.js"><link rel="prefetch" href="/assets/js/298.ddce93c6.js"><link rel="prefetch" href="/assets/js/299.f6c6d0d6.js"><link rel="prefetch" href="/assets/js/30.92b97c4a.js"><link rel="prefetch" href="/assets/js/300.9d2314c1.js"><link rel="prefetch" href="/assets/js/301.63785cf2.js"><link rel="prefetch" href="/assets/js/302.6567a551.js"><link rel="prefetch" href="/assets/js/303.4a773a3a.js"><link rel="prefetch" href="/assets/js/304.e7578acd.js"><link rel="prefetch" href="/assets/js/305.d7264241.js"><link rel="prefetch" href="/assets/js/306.afe4b4d6.js"><link rel="prefetch" href="/assets/js/307.3ecd4181.js"><link rel="prefetch" href="/assets/js/308.75abb4ef.js"><link rel="prefetch" href="/assets/js/309.1899459a.js"><link rel="prefetch" href="/assets/js/31.a196a6b1.js"><link rel="prefetch" href="/assets/js/310.2c3ce99b.js"><link rel="prefetch" href="/assets/js/311.e2751a92.js"><link rel="prefetch" href="/assets/js/312.8d781795.js"><link rel="prefetch" href="/assets/js/314.3f22d2ce.js"><link rel="prefetch" href="/assets/js/315.29850d1c.js"><link rel="prefetch" href="/assets/js/316.28146e65.js"><link rel="prefetch" href="/assets/js/317.911d6c0d.js"><link rel="prefetch" href="/assets/js/318.a6bb8468.js"><link rel="prefetch" href="/assets/js/319.817b65e4.js"><link rel="prefetch" href="/assets/js/32.e0e28974.js"><link rel="prefetch" href="/assets/js/320.a13c22db.js"><link rel="prefetch" href="/assets/js/321.b0012692.js"><link rel="prefetch" href="/assets/js/322.51b22673.js"><link rel="prefetch" href="/assets/js/323.72b5467a.js"><link rel="prefetch" href="/assets/js/324.a3302f6d.js"><link rel="prefetch" href="/assets/js/325.4b932c3b.js"><link rel="prefetch" href="/assets/js/326.373319d8.js"><link rel="prefetch" href="/assets/js/327.4d773aaa.js"><link rel="prefetch" href="/assets/js/328.418bc74e.js"><link rel="prefetch" href="/assets/js/329.d38edfe8.js"><link rel="prefetch" href="/assets/js/33.327fd4ae.js"><link rel="prefetch" href="/assets/js/330.2990ca24.js"><link rel="prefetch" href="/assets/js/331.d021965b.js"><link rel="prefetch" href="/assets/js/332.71803827.js"><link rel="prefetch" href="/assets/js/333.ffbc52af.js"><link rel="prefetch" href="/assets/js/334.3df0f3d2.js"><link rel="prefetch" href="/assets/js/335.1dae2dca.js"><link rel="prefetch" href="/assets/js/336.882628f3.js"><link rel="prefetch" href="/assets/js/337.2acbad9c.js"><link rel="prefetch" href="/assets/js/338.7a66ed6c.js"><link rel="prefetch" href="/assets/js/339.c7810f9e.js"><link rel="prefetch" href="/assets/js/34.b2df595d.js"><link rel="prefetch" href="/assets/js/340.319a77f0.js"><link rel="prefetch" href="/assets/js/341.175cff3d.js"><link rel="prefetch" href="/assets/js/342.2f68554e.js"><link rel="prefetch" href="/assets/js/343.cbada1ae.js"><link rel="prefetch" href="/assets/js/344.7070f981.js"><link rel="prefetch" href="/assets/js/345.aa9ee343.js"><link rel="prefetch" href="/assets/js/346.7e28e169.js"><link rel="prefetch" href="/assets/js/347.1acc3094.js"><link rel="prefetch" href="/assets/js/348.880928ff.js"><link rel="prefetch" href="/assets/js/349.c589d35e.js"><link rel="prefetch" href="/assets/js/35.615ee69e.js"><link rel="prefetch" href="/assets/js/350.0b5d9734.js"><link rel="prefetch" href="/assets/js/351.2d9435b0.js"><link rel="prefetch" href="/assets/js/352.45e29852.js"><link rel="prefetch" href="/assets/js/353.bda6d8ca.js"><link rel="prefetch" href="/assets/js/354.583c41db.js"><link rel="prefetch" href="/assets/js/355.7c88e775.js"><link rel="prefetch" href="/assets/js/356.b7b5efc6.js"><link rel="prefetch" href="/assets/js/357.4ba46471.js"><link rel="prefetch" href="/assets/js/358.6488c5be.js"><link rel="prefetch" href="/assets/js/359.5a9a928c.js"><link rel="prefetch" href="/assets/js/36.77eeb092.js"><link rel="prefetch" href="/assets/js/360.6b9b662d.js"><link rel="prefetch" href="/assets/js/361.d8a02c7d.js"><link rel="prefetch" href="/assets/js/362.755c280d.js"><link rel="prefetch" href="/assets/js/363.6f70be34.js"><link rel="prefetch" href="/assets/js/364.340fb301.js"><link rel="prefetch" href="/assets/js/365.ed71cce4.js"><link rel="prefetch" href="/assets/js/366.11918e35.js"><link rel="prefetch" href="/assets/js/367.105c96e7.js"><link rel="prefetch" href="/assets/js/368.64b38b88.js"><link rel="prefetch" href="/assets/js/369.08891dd8.js"><link rel="prefetch" href="/assets/js/37.440a91a5.js"><link rel="prefetch" href="/assets/js/370.a510b044.js"><link rel="prefetch" href="/assets/js/371.0fbc30dd.js"><link rel="prefetch" href="/assets/js/38.9f8083e5.js"><link rel="prefetch" href="/assets/js/39.c1961004.js"><link rel="prefetch" href="/assets/js/4.62debd28.js"><link rel="prefetch" href="/assets/js/40.fcdae8fa.js"><link rel="prefetch" href="/assets/js/41.29538f39.js"><link rel="prefetch" href="/assets/js/42.c16ad366.js"><link rel="prefetch" href="/assets/js/43.d16f5e49.js"><link rel="prefetch" href="/assets/js/45.978b35cc.js"><link rel="prefetch" href="/assets/js/46.4c017598.js"><link rel="prefetch" href="/assets/js/47.0eaddaef.js"><link rel="prefetch" href="/assets/js/48.8d699a53.js"><link rel="prefetch" href="/assets/js/49.96ea0379.js"><link rel="prefetch" href="/assets/js/5.f4847a38.js"><link rel="prefetch" href="/assets/js/50.9b54f522.js"><link rel="prefetch" href="/assets/js/51.a7472af4.js"><link rel="prefetch" href="/assets/js/52.bf4b068b.js"><link rel="prefetch" href="/assets/js/53.25f480b7.js"><link rel="prefetch" href="/assets/js/54.21d88e0f.js"><link rel="prefetch" href="/assets/js/55.c8d25d39.js"><link rel="prefetch" href="/assets/js/56.9c58c82c.js"><link rel="prefetch" href="/assets/js/57.da4bebf0.js"><link rel="prefetch" href="/assets/js/58.63d26e3a.js"><link rel="prefetch" href="/assets/js/59.2531f3bb.js"><link rel="prefetch" href="/assets/js/6.a52887f1.js"><link rel="prefetch" href="/assets/js/60.328b3a09.js"><link rel="prefetch" href="/assets/js/61.13224792.js"><link rel="prefetch" href="/assets/js/62.728ee957.js"><link rel="prefetch" href="/assets/js/63.7c73b7c7.js"><link rel="prefetch" href="/assets/js/64.c76e79e3.js"><link rel="prefetch" href="/assets/js/65.43c44fad.js"><link rel="prefetch" href="/assets/js/66.bde30c80.js"><link rel="prefetch" href="/assets/js/67.ff492882.js"><link rel="prefetch" href="/assets/js/68.a35057cc.js"><link rel="prefetch" href="/assets/js/69.6382854e.js"><link rel="prefetch" href="/assets/js/70.89864f1b.js"><link rel="prefetch" href="/assets/js/71.280c76dd.js"><link rel="prefetch" href="/assets/js/72.eb100e80.js"><link rel="prefetch" href="/assets/js/73.903c8992.js"><link rel="prefetch" href="/assets/js/74.12b843af.js"><link rel="prefetch" href="/assets/js/75.31486792.js"><link rel="prefetch" href="/assets/js/76.0c2178c7.js"><link rel="prefetch" href="/assets/js/77.6306f7ef.js"><link rel="prefetch" href="/assets/js/78.92cce2a0.js"><link rel="prefetch" href="/assets/js/79.a0684f2d.js"><link rel="prefetch" href="/assets/js/80.6e23d835.js"><link rel="prefetch" href="/assets/js/81.282b545c.js"><link rel="prefetch" href="/assets/js/82.1a25ddb3.js"><link rel="prefetch" href="/assets/js/83.179f61a7.js"><link rel="prefetch" href="/assets/js/84.3e3b5f31.js"><link rel="prefetch" href="/assets/js/85.ce53a54c.js"><link rel="prefetch" href="/assets/js/86.98b8bb37.js"><link rel="prefetch" href="/assets/js/87.9acb7104.js"><link rel="prefetch" href="/assets/js/88.4ac2a1b0.js"><link rel="prefetch" href="/assets/js/89.3dfd5b1d.js"><link rel="prefetch" href="/assets/js/9.72067b46.js"><link rel="prefetch" href="/assets/js/90.05d2c34c.js"><link rel="prefetch" href="/assets/js/91.389badd5.js"><link rel="prefetch" href="/assets/js/92.07ef2869.js"><link rel="prefetch" href="/assets/js/93.c8044225.js"><link rel="prefetch" href="/assets/js/94.6597f744.js"><link rel="prefetch" href="/assets/js/95.47db06ad.js"><link rel="prefetch" href="/assets/js/96.cd4e53e7.js"><link rel="prefetch" href="/assets/js/97.621d6cc9.js"><link rel="prefetch" href="/assets/js/98.425d9618.js"><link rel="prefetch" href="/assets/js/99.d9003496.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.65779e7a.js">
    <link rel="stylesheet" href="/assets/css/0.styles.83a33c40.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="ç›®å½•" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">xustudyxu's Blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">é¦–é¡µâ€‹</a></div><div class="nav-item"><a href="/pages/f6054a/" class="nav-link">å¯¼èˆªğŸš€â€‹</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="è®¡ç®—æœºæ ¸å¿ƒ" class="dropdown-title"><!----> <span class="title" style="display:;">è®¡ç®—æœºæ ¸å¿ƒ</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/db72cf/" class="nav-link">æ•°æ®ç»“æ„</a></li><li class="dropdown-item"><!----> <a href="/pages/39e2a1/" class="nav-link">è®¡ç®—æœºç½‘ç»œ</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><!----> <span class="title" style="display:;">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>JavaåŸºç¡€</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/e05ef5/" class="nav-link">JavaSE</a></li></ul></li><li class="dropdown-item"><h4>JavaWeb</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/5cda88/" class="nav-link">HTML</a></li><li class="dropdown-subitem"><a href="/pages/cea341/" class="nav-link">CSS</a></li><li class="dropdown-subitem"><a href="/pages/d893c0/" class="nav-link">JavaScript</a></li><li class="dropdown-subitem"><a href="/pages/6f762f/" class="nav-link">Vue</a></li><li class="dropdown-subitem"><a href="/pages/8f83ba/" class="nav-link">Servlet</a></li><li class="dropdown-subitem"><a href="/pages/8bc1c4/" class="nav-link">MVC</a></li><li class="dropdown-subitem"><a href="/pages/f883e2/" class="nav-link">filter|listener</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Springç”Ÿæ€" class="dropdown-title"><!----> <span class="title" style="display:;">Springç”Ÿæ€</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/462a90/" class="nav-link">Spring5</a></li><li class="dropdown-item"><!----> <a href="/pages/2e990c/" class="nav-link">SpringMVC</a></li><li class="dropdown-item"><!----> <a href="/pages/0d4af0/" class="nav-link">SpringBoot2</a></li><li class="dropdown-item"><!----> <a href="/pages/870083/" class="nav-link">SpringCloud</a></li><li class="dropdown-item"><!----> <a href="/pages/66babb/" class="nav-link">SpringSecurity</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ä¸­é—´ä»¶" class="dropdown-title"><!----> <span class="title" style="display:;">ä¸­é—´ä»¶</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>æœç´¢å¼•æ“</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/596552/" class="nav-link">ElasticSearch</a></li></ul></li><li class="dropdown-item"><h4>æ¶ˆæ¯é˜Ÿåˆ—</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/e645d9/" class="nav-link">RabbitMQ</a></li></ul></li><li class="dropdown-item"><h4>æœåŠ¡å™¨</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/9551ee/" class="nav-link">NginxğŸŒ</a></li></ul></li><li class="dropdown-item"><h4>æœåŠ¡æ¡†æ¶</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/48771f/" class="nav-link">Dubbo</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å¤§æ•°æ®" class="dropdown-title"><!----> <span class="title" style="display:;">å¤§æ•°æ®</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Python</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/b9268d/" class="nav-link">PythonåŸºç¡€</a></li><li class="dropdown-subitem"><a href="/pages/e0bd06/" class="nav-link">æ•°æ®åˆ†æ</a></li></ul></li><li class="dropdown-item"><h4>ç¯å¢ƒæ­å»º</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/600247/" class="nav-link">Hadoopé›†ç¾¤</a></li><li class="dropdown-subitem"><a href="/pages/cdeb68/" class="nav-link">KVMè™šæ‹ŸåŒ–æŠ€æœ¯</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="æ•°æ®åº“" class="dropdown-title"><!----> <span class="title" style="display:;">æ•°æ®åº“</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>SQL æ•°æ®åº“</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/e72480/" class="nav-link">MySQL</a></li></ul></li><li class="dropdown-item"><h4>NoSQL æ•°æ®åº“</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/7ab056/" class="nav-link">NoSQLæ•°æ®åº“æ¦‚è®º</a></li><li class="dropdown-subitem"><a href="/pages/e9cc9f/" class="nav-link">Redis</a></li><li class="dropdown-subitem"><a href="/pages/91197c/" class="nav-link">MongoDB</a></li><li class="dropdown-subitem"><a href="/pages/2aae92/" class="nav-link">HBase</a></li></ul></li><li class="dropdown-item"><h4>æ¡†æ¶</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/0e424f/" class="nav-link">MyBatis</a></li><li class="dropdown-subitem"><a href="/pages/e0594a/" class="nav-link">MyBatis-Plus</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å·¥å…·" class="dropdown-title"><!----> <span class="title" style="display:;">å·¥å…·</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>éƒ¨ç½²</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/99e9dc/" class="nav-link">Linux</a></li><li class="dropdown-subitem"><a href="/pages/90cc29/" class="nav-link">Docker</a></li></ul></li><li class="dropdown-item"><h4>ç®¡ç†</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/45eca1/" class="nav-link">Maven</a></li><li class="dropdown-subitem"><a href="/pages/34892c/" class="nav-link">Git</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="é¢è¯•" class="dropdown-title"><!----> <span class="title" style="display:;">é¢è¯•</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/eab19d/" class="nav-link">åå¤§æ’åºç®—æ³•</a></li><li class="dropdown-item"><!----> <a href="/pages/40ee62/" class="nav-link">åŠ›æ‰£ç®—æ³•é¢˜</a></li><li class="dropdown-item"><!----> <a href="/pages/39558d/" class="nav-link">åˆçº§å¼€å‘ç¯‡</a></li><li class="dropdown-item"><!----> <a href="/pages/47c622/" class="nav-link">ä¸­é«˜è¿›é˜¶ç¯‡</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="æ›´å¤š" class="dropdown-title"><!----> <span class="title" style="display:;">æ›´å¤š</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/myfriends/" class="nav-link">å‹æƒ…é“¾æ¥</a></li><li class="dropdown-item"><!----> <a href="/pages/bba350/" class="nav-link">ä¼˜ç§€åšå®¢æ–‡ç« </a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="æœ¬ç«™" class="dropdown-title"><!----> <span class="title" style="display:;">æœ¬ç«™</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>ç´¢å¼•</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/categories/" class="nav-link">åˆ†ç±»</a></li><li class="dropdown-subitem"><a href="/tags/" class="nav-link">æ ‡ç­¾</a></li><li class="dropdown-subitem"><a href="/archives/" class="nav-link">å½’æ¡£</a></li></ul></li><li class="dropdown-item"><h4>å…¶ä»–</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/9013e4/" class="nav-link">å…³äº</a></li></ul></li></ul></div></div> <a href="https://github.com/xustudyxu/xustudyxu.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    æŸ¥çœ‹æºç 
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="https://jsdelivr.codeqihan.com//gh/xustudyxu/image-hosting@master/20220627/mmexport1656324824543.124zxwkqyzlc.webp"> <div class="blogger-info"><h3>xustudyxu</h3> <span>ä¸€èµ·å­¦ä¹ ç¼–ç¨‹!</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">é¦–é¡µâ€‹</a></div><div class="nav-item"><a href="/pages/f6054a/" class="nav-link">å¯¼èˆªğŸš€â€‹</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="è®¡ç®—æœºæ ¸å¿ƒ" class="dropdown-title"><!----> <span class="title" style="display:;">è®¡ç®—æœºæ ¸å¿ƒ</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/db72cf/" class="nav-link">æ•°æ®ç»“æ„</a></li><li class="dropdown-item"><!----> <a href="/pages/39e2a1/" class="nav-link">è®¡ç®—æœºç½‘ç»œ</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><!----> <span class="title" style="display:;">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>JavaåŸºç¡€</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/e05ef5/" class="nav-link">JavaSE</a></li></ul></li><li class="dropdown-item"><h4>JavaWeb</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/5cda88/" class="nav-link">HTML</a></li><li class="dropdown-subitem"><a href="/pages/cea341/" class="nav-link">CSS</a></li><li class="dropdown-subitem"><a href="/pages/d893c0/" class="nav-link">JavaScript</a></li><li class="dropdown-subitem"><a href="/pages/6f762f/" class="nav-link">Vue</a></li><li class="dropdown-subitem"><a href="/pages/8f83ba/" class="nav-link">Servlet</a></li><li class="dropdown-subitem"><a href="/pages/8bc1c4/" class="nav-link">MVC</a></li><li class="dropdown-subitem"><a href="/pages/f883e2/" class="nav-link">filter|listener</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Springç”Ÿæ€" class="dropdown-title"><!----> <span class="title" style="display:;">Springç”Ÿæ€</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/462a90/" class="nav-link">Spring5</a></li><li class="dropdown-item"><!----> <a href="/pages/2e990c/" class="nav-link">SpringMVC</a></li><li class="dropdown-item"><!----> <a href="/pages/0d4af0/" class="nav-link">SpringBoot2</a></li><li class="dropdown-item"><!----> <a href="/pages/870083/" class="nav-link">SpringCloud</a></li><li class="dropdown-item"><!----> <a href="/pages/66babb/" class="nav-link">SpringSecurity</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ä¸­é—´ä»¶" class="dropdown-title"><!----> <span class="title" style="display:;">ä¸­é—´ä»¶</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>æœç´¢å¼•æ“</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/596552/" class="nav-link">ElasticSearch</a></li></ul></li><li class="dropdown-item"><h4>æ¶ˆæ¯é˜Ÿåˆ—</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/e645d9/" class="nav-link">RabbitMQ</a></li></ul></li><li class="dropdown-item"><h4>æœåŠ¡å™¨</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/9551ee/" class="nav-link">NginxğŸŒ</a></li></ul></li><li class="dropdown-item"><h4>æœåŠ¡æ¡†æ¶</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/48771f/" class="nav-link">Dubbo</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å¤§æ•°æ®" class="dropdown-title"><!----> <span class="title" style="display:;">å¤§æ•°æ®</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Python</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/b9268d/" class="nav-link">PythonåŸºç¡€</a></li><li class="dropdown-subitem"><a href="/pages/e0bd06/" class="nav-link">æ•°æ®åˆ†æ</a></li></ul></li><li class="dropdown-item"><h4>ç¯å¢ƒæ­å»º</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/600247/" class="nav-link">Hadoopé›†ç¾¤</a></li><li class="dropdown-subitem"><a href="/pages/cdeb68/" class="nav-link">KVMè™šæ‹ŸåŒ–æŠ€æœ¯</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="æ•°æ®åº“" class="dropdown-title"><!----> <span class="title" style="display:;">æ•°æ®åº“</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>SQL æ•°æ®åº“</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/e72480/" class="nav-link">MySQL</a></li></ul></li><li class="dropdown-item"><h4>NoSQL æ•°æ®åº“</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/7ab056/" class="nav-link">NoSQLæ•°æ®åº“æ¦‚è®º</a></li><li class="dropdown-subitem"><a href="/pages/e9cc9f/" class="nav-link">Redis</a></li><li class="dropdown-subitem"><a href="/pages/91197c/" class="nav-link">MongoDB</a></li><li class="dropdown-subitem"><a href="/pages/2aae92/" class="nav-link">HBase</a></li></ul></li><li class="dropdown-item"><h4>æ¡†æ¶</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/0e424f/" class="nav-link">MyBatis</a></li><li class="dropdown-subitem"><a href="/pages/e0594a/" class="nav-link">MyBatis-Plus</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å·¥å…·" class="dropdown-title"><!----> <span class="title" style="display:;">å·¥å…·</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>éƒ¨ç½²</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/99e9dc/" class="nav-link">Linux</a></li><li class="dropdown-subitem"><a href="/pages/90cc29/" class="nav-link">Docker</a></li></ul></li><li class="dropdown-item"><h4>ç®¡ç†</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/45eca1/" class="nav-link">Maven</a></li><li class="dropdown-subitem"><a href="/pages/34892c/" class="nav-link">Git</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="é¢è¯•" class="dropdown-title"><!----> <span class="title" style="display:;">é¢è¯•</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/eab19d/" class="nav-link">åå¤§æ’åºç®—æ³•</a></li><li class="dropdown-item"><!----> <a href="/pages/40ee62/" class="nav-link">åŠ›æ‰£ç®—æ³•é¢˜</a></li><li class="dropdown-item"><!----> <a href="/pages/39558d/" class="nav-link">åˆçº§å¼€å‘ç¯‡</a></li><li class="dropdown-item"><!----> <a href="/pages/47c622/" class="nav-link">ä¸­é«˜è¿›é˜¶ç¯‡</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="æ›´å¤š" class="dropdown-title"><!----> <span class="title" style="display:;">æ›´å¤š</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/myfriends/" class="nav-link">å‹æƒ…é“¾æ¥</a></li><li class="dropdown-item"><!----> <a href="/pages/bba350/" class="nav-link">ä¼˜ç§€åšå®¢æ–‡ç« </a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="æœ¬ç«™" class="dropdown-title"><!----> <span class="title" style="display:;">æœ¬ç«™</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>ç´¢å¼•</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/categories/" class="nav-link">åˆ†ç±»</a></li><li class="dropdown-subitem"><a href="/tags/" class="nav-link">æ ‡ç­¾</a></li><li class="dropdown-subitem"><a href="/archives/" class="nav-link">å½’æ¡£</a></li></ul></li><li class="dropdown-item"><h4>å…¶ä»–</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/9013e4/" class="nav-link">å…³äº</a></li></ul></li></ul></div></div> <a href="https://github.com/xustudyxu/xustudyxu.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    æŸ¥çœ‹æºç 
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>æœç´¢å¼•æ“-ElasticSearch</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/596552/" class="sidebar-link">ElasticSearch æ¦‚è¿°</a></li><li><a href="/middleware/ElasticSearch/ElasticSearch_install/" class="sidebar-link">ElasticSearch å®‰è£…</a></li><li><a href="/middleware/ElasticSearch/basic_operation/" class="sidebar-link">ElasticSearch åŸºæœ¬æ“ä½œ</a></li><li><a href="/middleware/ElasticSearch/ElasticSearch_Advanced_operation/" class="sidebar-link">ElasticSearch  é«˜çº§æ“ä½œ</a></li><li><a href="/middleware/ElasticSearch/ElasticSearch_Java/" class="sidebar-link">ElasticSearch Javaæ•´åˆ</a></li><li><a href="/middleware/ElasticSearch/ElasticSearch_buildcluster/" class="sidebar-link">ElasticSearch é›†ç¾¤æ­å»º</a></li><li><a href="/middleware/ElasticSearch/ElasticSearch_Gainian/" class="sidebar-link">ElasticSearch è¿›é˜¶</a></li><li><a href="/middleware/ElasticSearch/ElasticSearch_Distributed_clusterAndRouting_calculation/" class="sidebar-link">ElasticSearch åˆ†å¸ƒå¼é›†ç¾¤å’Œè·¯ç”±è®¡ç®—</a></li><li><a href="/middleware/ElasticSearch/ElasticSearch_Slice_control_process/" class="sidebar-link">ElasticSearch åˆ†ç‰‡æ§åˆ¶æµç¨‹</a></li><li><a href="/middleware/ElasticSearch/ElasticSearch_Slicing_operation_principle/" class="sidebar-link">ElasticSearch åˆ†ç‰‡æ“ä½œåŸç†</a></li><li><a href="/pages/c6a02d/" class="sidebar-link">ElasticSearch å¤šç§åˆ†æå™¨</a></li><li><a href="/middleware/ElasticSearch/ElasticSearch_Conflict_problem_handling/" class="sidebar-link">ElasticSearch å†²çªé—®é¢˜å¤„ç†</a></li><li><a href="/middleware/ElasticSearch/ElasticSearch_Framework_integration/" class="sidebar-link">ElasticSearch å¤šæ¡†æ¶é›†æˆ</a></li><li><a href="/middleware/ElasticSearch/ElasticSearch_optimization/" class="sidebar-link">ElasticSearch è¿›é˜¶ä¼˜åŒ–</a></li><li><a href="/middleware/ElasticSearch/ElasticSearch_Interview_questions/" class="sidebar-link">ElasticSearch é¢è¯•é¢˜</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>æ¶ˆæ¯é˜Ÿåˆ—-RabbitMQ</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/e645d9/" class="sidebar-link">MQçš„ç›¸å…³æ¦‚å¿µ</a></li><li><a href="/middleware/RabbitMQ/RabbitMQ_introduct/" class="sidebar-link">RabbitMQ ä»‹ç»</a></li><li><a href="/middleware/RabbitMQ/RabbitMQ_install/" class="sidebar-link">RabbitMQ å®‰è£…</a></li><li><a href="/middleware/RabbitMQ/RabbitMQ_index/" class="sidebar-link">RabbitMQ å…¥é—¨æ¡ˆä¾‹</a></li><li><a href="/middleware/RabbitMQ/RabbitMQ_Message_responseAndrelease/" class="sidebar-link">RabbitMQ æ¶ˆæ¯åº”ç­”ä¸å‘å¸ƒ</a></li><li><a href="/middleware/RabbitMQ/RabbitMQ_Exchanges/" class="sidebar-link">RabbitMQ äº¤æ¢æœº</a></li><li><a href="/middleware/RabbitMQ/RabbitMQ_Dead_QUEUE/" class="sidebar-link">RabbitMQ æ­»ä¿¡é˜Ÿåˆ—</a></li><li><a href="/middleware/RabbitMQ/RabbitMQ_Delay_queue/" class="sidebar-link">RabbitMQ å»¶è¿Ÿé˜Ÿåˆ—</a></li><li><a href="/middleware/RabbitMQ/RabbitMQ_Release_confirmation_advanced/" class="sidebar-link">RabbitMQ å‘å¸ƒç¡®è®¤é«˜çº§</a></li><li><a href="/middleware/RabbitMQ/RabbitMQ_Other_knowledge_points/" class="sidebar-link">RabbitMQ å…¶ä»–çŸ¥è¯†ç‚¹</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>æœåŠ¡å™¨-Nginx</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/9551ee/" class="sidebar-link">Nginx ä»‹ç»</a></li><li><a href="/middleware/Nginx/Nginx_install/" class="sidebar-link">Nginx å®‰è£…</a></li><li><a href="/middleware/Nginx/Nginx_Base_Use/" class="sidebar-link">Nginx åŸºæœ¬ä½¿ç”¨</a></li><li><a href="/middleware/Nginx/Nginx_Configuration_file/" class="sidebar-link">Nginx æ ¸å¿ƒé…ç½®æ–‡ä»¶</a></li><li><a href="/middleware/Nginx/Nginx_Basic_case_configuration/" class="sidebar-link">Nginx åŸºç¡€é…ç½®å®ä¾‹</a></li><li><a href="/middleware/Nginx/Nginx_Static_resource_deployment/" aria-current="page" class="active sidebar-link">Nginx é™æ€èµ„æºéƒ¨ç½²</a></li><li><a href="/middleware/Nginx/NginxStatic_resource_access/" class="sidebar-link">Nginx é™æ€èµ„æºè®¿é—®</a></li><li><a href="/middleware/Nginx/Nginx_Reverse_proxy/" class="sidebar-link">Nginx åå‘ä»£ç†</a></li><li><a href="/middleware/Nginx/Nginx_load_balancing/" class="sidebar-link">Nginx è´Ÿè½½å‡è¡¡</a></li><li><a href="/middleware/Nginx/Nginx_Cache_integration/" class="sidebar-link">Nginx ç¼“å­˜é›†æˆ</a></li><li><a href="/middleware/Nginx/Nginx_Deployment_and_cluster/" class="sidebar-link">Nginx éƒ¨ç½²ä¸é›†ç¾¤</a></li><li><a href="/middleware/Nginx/Nginx_Site_and_certification/" class="sidebar-link">Nginx ç«™ç‚¹ä¸è®¤è¯</a></li><li><a href="/middleware/Nginx/Nginx_Lua_learn/" class="sidebar-link">Nginx Luaå­¦ä¹ </a></li><li><a href="/middleware/Nginx/Nginx_Lua_Expansion_module/" class="sidebar-link">Nginx Luaæ‰©å±•æ¨¡å—</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>æœåŠ¡æ¡†æ¶-Dubbo</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/48771f/" class="sidebar-link">Dubbo æ¦‚è¿°</a></li><li><a href="/middleware/Dubbo/Dubbo_Geting_start/" class="sidebar-link">Dubbo å¿«é€Ÿå…¥é—¨</a></li><li><a href="/middleware/Dubbo/Dubbo_Advanced_features/" class="sidebar-link">Dubbo é«˜çº§ç‰¹æ€§</a></li></ul></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="é¦–é¡µ" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/categories/?category=studynotes" title="åˆ†ç±»" data-v-06225672>studynotes</a></li><li data-v-06225672><a href="/categories/?category=middleware" title="åˆ†ç±»" data-v-06225672>middleware</a></li><li data-v-06225672><a href="/categories/?category=Nginx" title="åˆ†ç±»" data-v-06225672>Nginx</a></li></ul> <div class="info" data-v-06225672><div title="ä½œè€…" class="author iconfont icon-touxiang" data-v-06225672><a href="javascript:;" data-v-06225672>xu</a></div> <div title="åˆ›å»ºæ—¶é—´" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2022-07-31</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">ç›®å½•</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABKFJREFUSA3tVl1oFVcQnrMbrak3QUgkya1akpJYcrUtIqW1JvFBE9LiQ5v6JmJpolbMg32rVrhgoYK0QiMY6i9Y6EMaW5D+xFJaTYItIuK2Kr3+BJNwkxBj05sQY3b3nM6cs2dv9t7NT/vQJw/sndk5M/PNzJkzewGerP+pAmy+ON8lLzUJgA8ZYxYIYZmGYRnctDaWvJJAmTtfP1pvXsBCCPP8QFcCaRkZYACgDZFO4stNIcBCajEOlmmC9XpJ9bAGCaPaPmzPl32dvLSVu3BWCTQs0XQQ6g0DYgwLIoAZbBCdW/i+781o1VVlm/410mw4h06Y7bIPHNyWDyL4FHkX03Q8SrzNhZTZriieckWt7cL6MM85YcLpsi/7O9/iXFT6MswI0DmmpkSaJ0qLxFIm3+i1THHB3zmBH3PYx9CcykcLOeQVVa7QtdxTgQgEleX2AjHYfwA+2ddV77ruGoJUbhGDI09YSNXyMpUt5ylOzxgbUmtOp7NmbNt8v3arjTBfYELmLUV+M+nSawNNAUqpT3ClJWg5I3BLT+cGW/DXNGCa6tx1aakCGEigArTn4TDIPdrXXYKCZNrHLMCOEPvHBlLQ99s9eHB7EB6NTki73CVPQ2F5MSx/uRQixfmq7rK0wYD8w8E905bnPDfwoWs/rfv93NWN/ZfvwsLIU7A09gxECyISeGJkHAau98L97tuw7NXnoPyNF8FcYGLGKsOs0mN3OEyec9esGW/ZEl945dTP34wlR2FZVQWU1q0Cw8Tr7p+hgLLNL0FPxx/Q35mA8aEUrH6nCgwEl0tn7wUiZYJnNRh6DK4UH/k0lfyrsBKdPVv/AriGIQcEDQZ65LBAGe2Rzui9Ybjz7XUppz1/uKBbyVPGkN3ZAeC6hr0x7Nr38N5+EqkoOm17xpoqR9ohQF55ERSvr4Dkr3chNfC3DMzGJlNBElW8w9nsGQvhNGIzDkXzCg8cLK951xHsFBlTJspJNi3ZFIMF2AeDV3q8DNOB+YHi6QTrChDIWDBRi5U5f+ZMfJLu3ccrqxtdxk4SKH336LFxSmkqefwU5T8fhdSdQf9IVKD6aNiwI/hnmcAZ91isYMJIaCUCx9W098+LgruikeTqzqqxKPUwqJyCPJiyemVVZBOijDGjD38Os0jOiSPL1z3SPjXNANbiNPXAdzTfukjjuknNBbyz3nwgTd3AVFqUJ5hpHlq9MveLnWwttUfoygBmvVjuikxND3znrhsELnZk7k+OjIGxeNEkomyLVta0xxn+HZhjBc4YZ/AFjHjz9u3xRZl2BN4aq9nFwWh16IrQ1aHHEd3j1+4/dB9OtH4e29A2H1DyHQRmOSfQZ1Fy7MHBTGB6J/Djq6p3OxyO2cB+4Car7v/o3GXgfAkj23+x9ID1Teoamo/SXcbvSf2PX7Vc8DdCmE1vN9di+32P9/5YR3vLnhCVGUWBjEkr3yh4H8v9CzmsbdhzOKzsJKM90iFdaTMjRPhGVsakRvOaRidljo6H6G7j+ctrJpsP+4COhDIl0La2+FS4+5mlocBaXY5QnGZysIBYoeSsl5qQzrSj/cgNrfuEzlWBfwA+EjrZyWUvpAAAAABJRU5ErkJggg==">Nginx é™æ€èµ„æºéƒ¨ç½²<!----></h1> <!----> <div class="theme-vdoing-content content__default"><h1 id="nginx-é™æ€èµ„æºéƒ¨ç½²"><a href="#nginx-é™æ€èµ„æºéƒ¨ç½²" class="header-anchor">#</a> Nginx é™æ€èµ„æºéƒ¨ç½²</h1> <div class="custom-block tip"><p class="custom-block-title">å¼•è¨€</p> <p>é™æ€èµ„æºå¦‚ä½•éƒ¨ç½²ï¼Ÿæœ¬å†…å®¹å¸¦ä½ äº†è§£é™æ€èµ„æºç›¸å…³çš„æ“ä½œå’Œå†…å®¹ã€‚</p> <p>é™æ€èµ„æºæŒ‡ä»¤é…ç½®ã€é™æ€èµ„æºä¼˜åŒ–é…ç½®ã€é™æ€èµ„æºå‹ç¼©é…ç½®ã€é™æ€èµ„æºç¼“å­˜é…ç½®ã€‚</p></div> <p></p><div class="table-of-contents"><ul><li><a href="#nginxé™æ€èµ„æºæ¦‚è¿°">Nginxé™æ€èµ„æºæ¦‚è¿°</a></li><li><a href="#é™æ€èµ„æºæŒ‡ä»¤é…ç½®">é™æ€èµ„æºæŒ‡ä»¤é…ç½®</a><ul><li><a href="#listenæŒ‡ä»¤">listenæŒ‡ä»¤</a></li><li><a href="#server-nameæŒ‡ä»¤">server_nameæŒ‡ä»¤</a></li><li><a href="#åŒ¹é…æ‰§è¡Œé¡ºåº">åŒ¹é…æ‰§è¡Œé¡ºåº</a></li><li><a href="#locationæŒ‡ä»¤">locationæŒ‡ä»¤</a></li><li><a href="#root-aliasæŒ‡ä»¤">root/aliasæŒ‡ä»¤</a></li><li><a href="#indexæŒ‡ä»¤">indexæŒ‡ä»¤</a></li><li><a href="#error-pageæŒ‡ä»¤">error_pageæŒ‡ä»¤</a></li></ul></li><li><a href="#é™æ€èµ„æºä¼˜åŒ–é…ç½®">é™æ€èµ„æºä¼˜åŒ–é…ç½®</a><ul><li><a href="#sendfile">sendï¬le</a></li><li><a href="#tcp-nopush">tcp_nopush</a></li><li><a href="#tcp-nodelay">tcp_nodelay</a></li><li><a href="#ä¼˜åŒ–æ€»ç»“">ä¼˜åŒ–æ€»ç»“</a></li></ul></li><li><a href="#é™æ€èµ„æºå‹ç¼©é…ç½®">é™æ€èµ„æºå‹ç¼©é…ç½®</a><ul><li><a href="#gzipæ¨¡å—é…ç½®æŒ‡ä»¤">Gzipæ¨¡å—é…ç½®æŒ‡ä»¤</a></li><li><a href="#gzipå‹ç¼©åŠŸèƒ½é…ç½®æ¨¡æ¿">Gzipå‹ç¼©åŠŸèƒ½é…ç½®æ¨¡æ¿</a></li><li><a href="#gzipå’Œsendfileå…±å­˜é—®é¢˜">Gzipå’Œsendfileå…±å­˜é—®é¢˜</a></li><li><a href="#gzip-staticæŒ‡ä»¤">gzip_staticæŒ‡ä»¤</a></li><li><a href="#nginxæ¨¡å—æ·»åŠ ">Nginxæ¨¡å—æ·»åŠ </a></li><li><a href="#gzip-staticæµ‹è¯•">gzip_staticæµ‹è¯•</a></li></ul></li><li><a href="#é™æ€èµ„æºç¼“å­˜é…ç½®">é™æ€èµ„æºç¼“å­˜é…ç½®</a><ul><li><a href="#ä»€ä¹ˆæ˜¯ç¼“å­˜å’Œwebç¼“å­˜">ä»€ä¹ˆæ˜¯ç¼“å­˜å’ŒWebç¼“å­˜</a></li><li><a href="#webç¼“å­˜çš„ç§ç±»">Webç¼“å­˜çš„ç§ç±»</a></li><li><a href="#ä¸ºä»€ä¹ˆè¦ç”¨æµè§ˆå™¨ç¼“å­˜">ä¸ºä»€ä¹ˆè¦ç”¨æµè§ˆå™¨ç¼“å­˜</a></li><li><a href="#æµè§ˆå™¨ç¼“å­˜æ‰§è¡Œæµç¨‹">æµè§ˆå™¨ç¼“å­˜æ‰§è¡Œæµç¨‹</a></li><li><a href="#æµè§ˆå™¨ç¼“å­˜ç›¸å…³æŒ‡ä»¤">æµè§ˆå™¨ç¼“å­˜ç›¸å…³æŒ‡ä»¤</a></li><li><a href="#nginxæœåŠ¡ç«¯ç¼“å­˜">NginxæœåŠ¡ç«¯ç¼“å­˜</a></li></ul></li></ul></div><p></p> <h2 id="nginxé™æ€èµ„æºæ¦‚è¿°"><a href="#nginxé™æ€èµ„æºæ¦‚è¿°" class="header-anchor">#</a> Nginxé™æ€èµ„æºæ¦‚è¿°</h2> <p>ä¸Šç½‘å»æœç´¢è®¿é—®èµ„æºå¯¹äºæˆ‘ä»¬æ¥è¯´å¹¶ä¸é™Œç”Ÿï¼Œé€šè¿‡æµè§ˆå™¨å‘é€ä¸€ä¸ª HTTP è¯·æ±‚å®ç°ä»å®¢æˆ·ç«¯å‘é€è¯·æ±‚åˆ°æœåŠ¡å™¨ç«¯è·å–æ‰€éœ€è¦å†…å®¹åå¹¶æŠŠå†…å®¹å›æ˜¾å±•ç¤ºåœ¨é¡µé¢çš„ä¸€ä¸ªè¿‡ç¨‹ã€‚è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬æ‰€è¯·æ±‚çš„å†…å®¹å°±åˆ†ä¸ºä¸¤ç§ç±»å‹ï¼Œä¸€ç±»æ˜¯é™æ€èµ„æºã€ä¸€ç±»æ˜¯åŠ¨æ€èµ„æºã€‚</p> <p>é™æ€èµ„æºå³æŒ‡åœ¨æœåŠ¡å™¨ç«¯çœŸå®å­˜åœ¨å¹¶ä¸”èƒ½ç›´æ¥æ‹¿æ¥å±•ç¤ºçš„ä¸€äº›æ–‡ä»¶ï¼Œæ¯”å¦‚å¸¸è§çš„ html é¡µé¢ã€css æ–‡ä»¶ã€js æ–‡ä»¶ã€å›¾ç‰‡ã€è§†é¢‘ç­‰èµ„æºï¼›</p> <p>åŠ¨æ€èµ„æºå³æŒ‡åœ¨æœåŠ¡å™¨ç«¯çœŸå®å­˜åœ¨ä½†æ˜¯è¦æƒ³è·å–éœ€è¦ç»è¿‡ä¸€å®šçš„ä¸šåŠ¡é€»è¾‘å¤„ç†ï¼Œæ ¹æ®ä¸åŒçš„æ¡ä»¶å±•ç¤ºåœ¨é¡µé¢ä¸åŒè¿™ ä¸€éƒ¨åˆ†å†…å®¹ï¼Œæ¯”å¦‚è¯´æŠ¥è¡¨æ•°æ®å±•ç¤ºã€æ ¹æ®å½“å‰ç™»å½•ç”¨æˆ·å±•ç¤ºç›¸å…³å…·ä½“æ•°æ®ç­‰èµ„æºï¼›</p> <p>Nginx å¤„ç†é™æ€èµ„æºçš„å†…å®¹ï¼Œæˆ‘ä»¬éœ€è¦è€ƒè™‘ä¸‹é¢è¿™å‡ ä¸ªé—®é¢˜ï¼š</p> <ul><li>é™æ€èµ„æºçš„é…ç½®æŒ‡ä»¤</li> <li>é™æ€èµ„æºçš„é…ç½®ä¼˜åŒ–</li> <li>é™æ€èµ„æºçš„å‹ç¼©é…ç½®æŒ‡ä»¤</li> <li>é™æ€èµ„æºçš„ç¼“å­˜å¤„ç†</li> <li>é™æ€èµ„æºçš„è®¿é—®æ§åˆ¶ï¼ŒåŒ…æ‹¬è·¨åŸŸé—®é¢˜å’Œé˜²ç›—é“¾é—®é¢˜</li></ul> <h2 id="é™æ€èµ„æºæŒ‡ä»¤é…ç½®"><a href="#é™æ€èµ„æºæŒ‡ä»¤é…ç½®" class="header-anchor">#</a> é™æ€èµ„æºæŒ‡ä»¤é…ç½®</h2> <h3 id="listenæŒ‡ä»¤"><a href="#listenæŒ‡ä»¤" class="header-anchor">#</a> listenæŒ‡ä»¤</h3> <p>è¯¥æŒ‡ä»¤æ˜¯ç”¨æ¥é…ç½®ç›‘å¬ç«¯å£ã€‚é»˜è®¤ç›‘å¬ 80ï¼ˆroot å¯åŠ¨ Nginxï¼‰ å’Œ 8000ï¼ˆé root å¯åŠ¨ Nginxï¼‰ ç«¯å£ã€‚</p> <table><thead><tr><th>è¯­æ³•</th> <th>é»˜è®¤å€¼</th> <th>ä½ç½®</th></tr></thead> <tbody><tr><td>listen &lt;address&gt;[:port] [default_server] ...... ;<br> listen &lt;port&gt; [default_server] ...... ;</td> <td>listen *:80 | *:8000</td> <td>server</td></tr></tbody></table> <p><code>listen</code> æŒ‡ä»¤çš„è®¾ç½®æ¯”è¾ƒçµæ´»ï¼Œæˆ‘ä»¬é€šè¿‡å‡ ä¸ªä¾‹å­æ¥æŠŠå¸¸ç”¨çš„è®¾ç½®æ–¹å¼ç†Ÿæ‚‰ä¸‹ï¼š</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>listen <span class="token number">127.0</span>.0.1:8000<span class="token punctuation">;</span> <span class="token comment"># listen localhost:8000 ç›‘å¬æŒ‡å®šçš„IPå’Œç«¯å£</span>
listen <span class="token number">127.0</span>.0.1<span class="token punctuation">;</span>	<span class="token comment"># ç›‘å¬æŒ‡å®šIPçš„æ‰€æœ‰ç«¯å£</span>
listen <span class="token number">8000</span><span class="token punctuation">;</span>	<span class="token comment"># ç›‘å¬æŒ‡å®šç«¯å£ä¸Šçš„è¿æ¥</span>
listen *:8000<span class="token punctuation">;</span>	<span class="token comment"># ç›‘å¬æŒ‡å®šç«¯å£ä¸Šçš„è¿æ¥</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><code>default_server</code> å±æ€§æ˜¯æ ‡è¯†ç¬¦ï¼Œç”¨æ¥å°†æ­¤è™šæ‹Ÿä¸»æœºè®¾ç½®æˆé»˜è®¤ä¸»æœºã€‚æ‰€è°“çš„é»˜è®¤ä¸»æœºæŒ‡çš„æ˜¯å¦‚æœæ²¡æœ‰åŒ¹é…åˆ°å¯¹åº”çš„ <code>address:port</code>ï¼Œåˆ™ä¼šæ‰§è¡Œé»˜è®¤çš„ serverã€‚å¦‚æœä¸æŒ‡å®šè¯¥æ ‡è¯†ç¬¦ï¼Œåˆæ²¡æœ‰åŒ¹é…åˆ°å¯¹åº”çš„ <code>address:port</code> æ—¶ï¼Œé»˜è®¤ä½¿ç”¨çš„æ˜¯ç¬¬ä¸€ä¸ª serverï¼Œæ‰€ä»¥ç¬¬ä¸€ä¸ª server è¦å¥½å¥½è®¾ç½®ï¼Œå»ºè®®ç¬¬ä¸€ä¸ª server å°±åŠ ä¸Š <code>default_server</code>ã€‚</p> <div class="language-nginx line-numbers-mode"><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><div class="highlighted">Â </div><br><br><br><br><br></div><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">server</span></span><span class="token punctuation">{</span>
	<span class="token directive"><span class="token keyword">listen</span> <span class="token number">8080</span></span><span class="token punctuation">;</span>
	<span class="token directive"><span class="token keyword">server_name</span> 127.0.0.1</span><span class="token punctuation">;</span>
	<span class="token directive"><span class="token keyword">location</span> /</span> <span class="token punctuation">{</span>
		<span class="token directive"><span class="token keyword">root</span> html</span><span class="token punctuation">;</span>
		<span class="token directive"><span class="token keyword">index</span> index.html</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token directive"><span class="token keyword">server</span></span><span class="token punctuation">{</span>
	<span class="token directive"><span class="token keyword">listen</span> <span class="token number">8080</span> default_server</span><span class="token punctuation">;</span>
	<span class="token directive"><span class="token keyword">server_name</span> localhost</span><span class="token punctuation">;</span>
	<span class="token directive"><span class="token keyword">default_type</span> text/plain</span><span class="token punctuation">;</span>
	<span class="token directive"><span class="token keyword">return</span> <span class="token number">444</span> <span class="token string">'This is a error request'</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>æ­¤æ—¶è®¿é—® 8080 ç«¯å£ï¼Œå®ƒä¼šè®¿é—®ç¬¬äºŒä¸ª serverï¼Œå¦‚æœç¬¬äºŒä¸ª server å»æ‰ <code>default_server</code> ï¼Œåˆ™é»˜è®¤è®¿é—®ç¬¬ä¸€ä¸ª serverã€‚</p> <p><img src="https://jsdelivr.codeqihan.com//gh/xustudyxu/image-hosting1@master/20220730/image.2e5c4uo1ghlw.webp" alt="image"></p> <h3 id="server-nameæŒ‡ä»¤"><a href="#server-nameæŒ‡ä»¤" class="header-anchor">#</a> server_nameæŒ‡ä»¤</h3> <p>è¯¥æŒ‡ä»¤ç”¨æ¥è®¾ç½®è™šæ‹Ÿä¸»æœºæœåŠ¡åç§°ã€‚é»˜è®¤ä¸ºç©ºã€‚</p> <p>æ¯”å¦‚ 127.0.0.1ã€localhostã€åŸŸå[www.baidu.com | www.jd.com]ã€‚</p> <table><thead><tr><th>è¯­æ³•</th> <th>é»˜è®¤å€¼</th> <th>ä½ç½®</th></tr></thead> <tbody><tr><td>server_name &lt;name&gt; ...... ;</td> <td>server_name &quot;&quot;;</td> <td>server</td></tr></tbody></table> <ul><li>name å¯ä»¥æä¾›å¤šä¸ªä¸­é—´ç”¨ç©ºæ ¼åˆ†éš”ã€‚</li></ul> <p>å…³äº server_name çš„é…ç½®æ–¹å¼æœ‰ä¸‰ç§ï¼Œåˆ†åˆ«æ˜¯ï¼š</p> <ul><li>ç²¾ç¡®åŒ¹é…</li> <li>é€šé…ç¬¦åŒ¹é…</li> <li>æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…</li></ul> <blockquote><p><strong>é…ç½®æ–¹å¼ä¸€ï¼šç²¾ç¡®åŒ¹é…</strong></p></blockquote> <p>å¦‚ï¼š</p> <div class="language-nginx line-numbers-mode"><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">server</span></span> <span class="token punctuation">{</span>
	<span class="token directive"><span class="token keyword">listen</span> <span class="token number">80</span></span><span class="token punctuation">;</span>
	<span class="token directive"><span class="token keyword">server_name</span> www.frx.com www.bing.com</span><span class="token punctuation">;</span>
	...
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>æ­¤æ—¶ä»¥ <code>www.frx.com</code> æˆ–è€… <code>www.bing.com</code> åŸŸåè¿›è¡Œè®¿é—®ï¼Œå°±ä¼šè·³è½¬åˆ° Nginx çš„æ¬¢è¿é¡µé¢ï¼Œå‰ææ˜¯ä½ éœ€è¦æ‹¥æœ‰è¯¥åŸŸåï¼Œå¹¶ä¸”è¯¥åŸŸåå’Œ Nginx æ‰€åœ¨çš„ç³»ç»Ÿ IP è¿›è¡Œç»‘å®šã€‚</p> <p>æ‰€ä»¥æˆ‘å¯ä»¥åˆ©ç”¨ hosts æ–‡ä»¶è¿›è¡Œã€Œæ¨¡æ‹Ÿã€åŸŸåã€‚</p> <blockquote><p>è¡¥å……å°çŸ¥è¯†ç‚¹</p></blockquote> <p>hosts æ˜¯ä¸€ä¸ªæ²¡æœ‰æ‰©å±•åçš„ç³»ç»Ÿæ–‡ä»¶ï¼Œå¯ä»¥ç”¨è®°äº‹æœ¬ç­‰å·¥å…·æ‰“å¼€ï¼Œå…¶ä½œç”¨å°±æ˜¯å°†ä¸€äº›å¸¸ç”¨çš„ç½‘å€åŸŸåä¸å…¶å¯¹åº”çš„IPåœ°å€å»ºç«‹ä¸€ä¸ªå…³è”ã€Œæ•°æ®åº“ã€ï¼Œå½“ç”¨æˆ·åœ¨æµè§ˆå™¨ä¸­è¾“å…¥ä¸€ä¸ªéœ€è¦ç™»å½•çš„ç½‘å€æ—¶ï¼Œç³»ç»Ÿä¼šé¦–å…ˆè‡ªåŠ¨ä» hosts æ–‡ä»¶ä¸­å¯»æ‰¾å¯¹åº”çš„IPåœ°å€ï¼Œä¸€æ—¦æ‰¾åˆ°ï¼Œç³»ç»Ÿä¼šç«‹å³æ‰“å¼€å¯¹åº”ç½‘é¡µï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œåˆ™ç³»ç»Ÿä¼šå†å°†ç½‘å€æäº¤ DNS åŸŸåè§£ææœåŠ¡å™¨è¿›è¡Œ IP åœ°å€çš„è§£æã€‚</p> <p>hosts æ–‡ä»¶ä¸åŒç³»ç»Ÿçš„ä½ç½®ï¼š</p> <ul><li>åœ¨ windows çš„ä½ç½®ï¼šC:\Windows\System32\drivers\etc</li> <li>åœ¨ centos çš„ä½ç½®ï¼š/etc/hosts</li></ul> <p>å› ä¸ºåŸŸåæ˜¯è¦æ”¶å–ä¸€å®šçš„è´¹ç”¨ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¿®æ”¹ hosts æ–‡ä»¶æ¥åˆ¶ä½œä¸€äº›è™šæ‹ŸåŸŸåæ¥ä½¿ç”¨ã€‚éœ€è¦ä¿®æ”¹ <code>/etc/hosts</code> æ–‡ä»¶æ¥æ·»åŠ </p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># è¿›å…¥ hosts æ–‡ä»¶</span>
<span class="token function">vim</span> /etc/hosts
<span class="token comment"># æ·»åŠ å†…å®¹</span>
<span class="token number">127.0</span>.0.1 www.frx.com
<span class="token number">127.0</span>.0.1 www.bing.com
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ul><li>è®¿é—®æµ‹è¯•</li></ul> <p><img src="https://jsdelivr.codeqihan.com//gh/xustudyxu/image-hosting1@master/20220730/image.3nbv3p1703y0.webp" alt="image"></p> <blockquote><p><strong>é…ç½®æ–¹å¼äºŒï¼šä½¿ç”¨é€šé…ç¬¦é…ç½®</strong></p></blockquote> <p>server_name æŒ‡ä»¤æ”¯æŒé€šé…ç¬¦ *ï¼Œä½†éœ€è¦æ³¨æ„çš„æ˜¯é€šé…ç¬¦ä¸èƒ½å‡ºç°åœ¨åŸŸåçš„ä¸­é—´ï¼Œåªèƒ½å‡ºç°åœ¨é¦–æ®µæˆ–å°¾æ®µï¼Œå¦‚ï¼š</p> <div class="language-nginx line-numbers-mode"><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">server</span></span> <span class="token punctuation">{</span>
	<span class="token directive"><span class="token keyword">listen</span> <span class="token number">80</span></span><span class="token punctuation">;</span>
	<span class="token directive"><span class="token keyword">server_name</span>  *.frx.com	www.frx.*</span><span class="token punctuation">;</span>
	<span class="token comment"># www.frx.cn abc.frx.cn www.bing.cn www.frx.com</span>
	...
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>ä¸‹é¢çš„é…ç½®å°±ä¼šæŠ¥é”™ï¼Œå› ä¸º * ä¸èƒ½å‡ºç°åœ¨åŸŸåçš„ä¸­é—´å’Œä¸å…¶ä»–å­—ç¬¦ä¸²è”ä½¿ç”¨</p> <div class="language-nginx line-numbers-mode"><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">server</span></span> <span class="token punctuation">{</span>
	<span class="token directive"><span class="token keyword">listen</span> <span class="token number">80</span></span><span class="token punctuation">;</span>
	server_name  www.*.cn www.frx.c*
	...
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="language-nginx line-numbers-mode"><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">server</span></span> <span class="token punctuation">{</span>
	<span class="token directive"><span class="token keyword">listen</span> <span class="token number">80</span></span><span class="token punctuation">;</span>
	server_name  .frx.com
	...
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><code>.frx.com</code> ç›¸å½“äº <code>*..frx.com</code> + <code>frx.com</code></p> <blockquote><p><strong>é…ç½®ä¸‰ï¼šä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼é…ç½®</strong></p></blockquote> <p>server_name æŒ‡ä»¤å¯ä»¥ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ï¼Œå¹¶ä¸”ä½¿ç”¨ <code>~</code> ä½œä¸ºæ­£åˆ™è¡¨è¾¾å¼å­—ç¬¦ä¸²çš„å¼€å§‹æ ‡è®°ã€‚</p> <p>å¸¸è§çš„æ­£åˆ™è¡¨è¾¾å¼ï¼š</p> <table><thead><tr><th>ä»£ç </th> <th>è¯´æ˜</th></tr></thead> <tbody><tr><td>^</td> <td>åŒ¹é…æœç´¢å­—ç¬¦ä¸²å¼€å§‹ä½ç½®</td></tr> <tr><td>$</td> <td>åŒ¹é…æœç´¢å­—ç¬¦ä¸²ç»“æŸä½ç½®</td></tr> <tr><td>.</td> <td>åŒ¹é…é™¤æ¢è¡Œç¬¦ \n ä¹‹å¤–çš„ä»»ä½•å•ä¸ªå­—ç¬¦</td></tr> <tr><td>\</td> <td>è½¬ä¹‰å­—ç¬¦ï¼Œå°†ä¸‹ä¸€ä¸ªå­—ç¬¦æ ‡è®°ä¸ºç‰¹æ®Šå­—ç¬¦</td></tr> <tr><td>[xyz]</td> <td>å­—ç¬¦é›†ï¼Œä¸ä»»æ„ä¸€ä¸ªæŒ‡å®šå­—ç¬¦åŒ¹é…</td></tr> <tr><td>[a-z]</td> <td>å­—ç¬¦èŒƒå›´ï¼ŒåŒ¹é…æŒ‡å®šèŒƒå›´å†…çš„ä»»ä½•å­—ç¬¦</td></tr> <tr><td>\w</td> <td>ä¸ä»¥ä¸‹ä»»æ„å­—ç¬¦åŒ¹é… A-Z a-z 0-9 å’Œä¸‹åˆ’çº¿,ç­‰æ•ˆäº[A-Za-z0-9_]</td></tr> <tr><td>\d</td> <td>æ•°å­—å­—ç¬¦åŒ¹é…ï¼Œç­‰æ•ˆäº[0-9]</td></tr> <tr><td>{n}</td> <td>æ­£å¥½åŒ¹é… n æ¬¡</td></tr> <tr><td>{n,}</td> <td>è‡³å°‘åŒ¹é… n æ¬¡</td></tr> <tr><td>{n,m}</td> <td>åŒ¹é…è‡³å°‘ n æ¬¡è‡³å¤š m æ¬¡</td></tr> <tr><td>*</td> <td>é›¶æ¬¡æˆ–å¤šæ¬¡ï¼Œç­‰æ•ˆäº{0,}</td></tr> <tr><td>+</td> <td>ä¸€æ¬¡æˆ–å¤šæ¬¡ï¼Œç­‰æ•ˆäº{1,}</td></tr> <tr><td>?</td> <td>é›¶æ¬¡æˆ–ä¸€æ¬¡ï¼Œç­‰æ•ˆäº{0,1}</td></tr></tbody></table> <p>é…ç½®å¦‚ä¸‹ï¼š</p> <div class="language-nginx line-numbers-mode"><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">server</span></span><span class="token punctuation">{</span>
	<span class="token directive"><span class="token keyword">listen</span> <span class="token number">80</span></span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">server_name</span> ~^www\.(\w+)\.com$</span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">default_type</span> text/plain</span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">return</span> <span class="token number">200</span> <span class="token variable">$1</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><strong>æ³¨æ„ ~ åé¢ä¸èƒ½åŠ ç©ºæ ¼</strong>ã€‚æ‹¬å·ä»£è¡¨å¯ä»¥åœ¨ Ngxin é…ç½®æ–‡ä»¶å†…è·å–å…¶ä¸­çš„å€¼ï¼Œå¦‚ä¸Šæ–¹çš„ (\w+) çš„å†…å®¹å¯ä»¥ç”¨ $1 è·å–åˆ°å‚æ•°ï¼Œå¦‚æœæœ‰å¤šä¸ªæ‹¬å·ï¼Œä¾æ¬¡ä½¿ç”¨ $2 $3 ...... è·å–ã€‚</p> <p>æ¯”å¦‚ç°åœ¨è®¿é—® <code>http://www.frx.com</code>ï¼Œåˆ™è¿”å› frx åˆ°é¡µé¢ä¸Šï¼Œå› ä¸ºfrx è¢«æ”¾åœ¨ $1 å¤„ï¼š<code>return 200 frx</code>ã€‚</p> <div class="custom-block tip"><p class="custom-block-title">è¿™é‡Œè¿›è¡Œè¯´æ˜ï¼šserver_name é…ç½®äº† localhost å’Œé…ç½® IP æˆ–è€…åŸŸåçš„åŒºåˆ«</p> <p>localhost æ˜¯ã€Œè™šæ‹Ÿ IPã€ï¼Œå¦‚æœä¸æ˜¯æœ¬æœºè®¿é—®ï¼Œè€Œæ˜¯å¤–ç•Œè®¿é—®ï¼Œé‚£ä¹ˆè¿™ä¸ªå°±æ˜¯æ— æ•ˆçš„ï¼Œä½†æ˜¯ä¸ºä»€ä¹ˆå­¦ä¹ é˜¶æ®µçš„æ—¶å€™éƒ½ä¸æ”¹å‘¢ï¼Œå› ä¸ºå½“ Nginx æ²¡æœ‰åŒ¹é…åˆ°æŒ‡å®šçš„ <code>server_name</code>ï¼Œé»˜è®¤æ‰¾åˆ°ç¬¬ä¸€ä¸ª server å—ï¼Œè€Œ Nginx é»˜è®¤çš„ç¬¬ä¸€ä¸ª server å—å°±æ˜¯ localhostï¼Œå“ªæ€•ä½ æŠŠ localhost æ”¹ä¸ºå…¶ä»–çš„ï¼Œå¦‚ helloï¼Œå®ƒä¹Ÿèƒ½è®¿é—®ã€‚åªæ˜¯å› ä¸ºåœ¨åŒ¹é…ä¸åˆ°çš„æƒ…å†µä¸‹ï¼Œé»˜è®¤æ˜¯ç¬¬ä¸€ä¸ª service å—ï¼Œå“ªæ€•å®ƒç¡®å®å’Œè®¿é—®çš„ IP ä¸åŒ¹é…ã€‚</p> <p>IP å¦‚æœå’ŒåŸŸåè¿›è¡Œäº†ç»‘å®šï¼Œé‚£ä¹ˆåœ¨ <code>server_name</code> ä¸­ï¼Œä¸¤è€…éƒ½å¯ä»¥å¡«å†™ï¼Œå¡«äº†åŸŸåï¼Œæœ€åä¹Ÿæ˜¯æ‰¾åˆ° IPï¼Œåªæ˜¯å› ä¸ºåŸŸåå¥½è®°ä½ã€‚</p></div> <p>çŸ¥é“äº†åŒºåˆ«ï¼Œåœ¨ç”Ÿäº§ç¯å¢ƒä¸Šï¼Œå¯ä»¥ç»™ä¸ªæŒ‡å®šçš„é”™è¯¯é¡µé¢ã€‚å¦‚æœåŒ¹é…ä¸ä¸Šï¼Œåˆ™è¿”å›å‹å¥½çš„æç¤ºï¼Œå¦‚ç¬¬ä¸€ä¸ª server å—ï¼š</p> <div class="language-nginx line-numbers-mode"><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">server</span></span><span class="token punctuation">{</span>
	<span class="token directive"><span class="token keyword">listen</span> <span class="token number">80</span> default_server</span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">server_name</span> _</span><span class="token punctuation">;</span>    <span class="token comment"># åŒ¹é…ä¸ä¸Šçš„æ—¶å€™ï¼Œä¹Ÿå¯ä»¥å¡«å†™ localhost</span>
    <span class="token directive"><span class="token keyword">return</span> <span class="token string">&quot;&lt;h1&gt;ä¸å¥½æ„æ€ï¼ŒåŒ¹é…ä¸åˆ°ï¼&quot;</span></span><span class="token punctuation">;</span>
    <span class="token comment"># return 403;   # ä¹Ÿå¯ä»¥ç›´æ¥è¿”å›é”™è¯¯ç </span>
    <span class="token comment"># </span>
<span class="token punctuation">}</span>
<span class="token directive"><span class="token keyword">server</span></span><span class="token punctuation">{</span>
	<span class="token directive"><span class="token keyword">listen</span> <span class="token number">80</span></span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">server_name</span> www.frxcat.fun</span><span class="token punctuation">;</span>    <span class="token comment"># åŒ¹é…åŸŸåè®¿é—®</span>
    <span class="token comment"># ......</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>ä¸Šé¢ä»£ç å—åªå…è®¸åŸŸåè®¿é—®ï¼Œè€Œä¸å…è®¸ IP è®¿é—®ï¼Œé¿å…å…¶ä»–äººæŠŠæœªå¤‡æ¡ˆçš„åŸŸåè§£æåˆ°è‡ªå·±çš„æœåŠ¡å™¨ IPã€‚</p> <p>å½“ç„¶ä½ ä¹Ÿå¯ä»¥ä¸è®¾ç½®é”™è¯¯é¡µé¢ã€‚å› ä¸º Nginx åŒ¹é…ä¸ä¸Šæ—¶ï¼Œç›´æ¥è¿”å›å®ƒçš„æ¬¢è¿ç•Œé¢ã€‚</p> <h3 id="åŒ¹é…æ‰§è¡Œé¡ºåº"><a href="#åŒ¹é…æ‰§è¡Œé¡ºåº" class="header-anchor">#</a> åŒ¹é…æ‰§è¡Œé¡ºåº</h3> <p>ç”±äº server_name æŒ‡ä»¤æ”¯æŒé€šé…ç¬¦å’Œæ­£åˆ™è¡¨è¾¾å¼ï¼Œå› æ­¤åœ¨åŒ…å«å¤šä¸ªè™šæ‹Ÿä¸»æœºçš„é…ç½®æ–‡ä»¶ä¸­ï¼Œå¯èƒ½ä¼šå‡ºç°ä¸€ä¸ªåç§°è¢«å¤šä¸ªè™šæ‹Ÿä¸»æœºçš„ server_name åŒ¹é…æˆåŠŸï¼Œå½“é‡åˆ°è¿™ç§æƒ…å†µï¼Œå½“å‰çš„è¯·æ±‚äº¤ç»™è°æ¥å¤„ç†å‘¢ï¼Ÿå¦‚ä¸‹ï¼š</p> <div class="language-nginx line-numbers-mode"><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">server</span></span><span class="token punctuation">{</span>
	<span class="token directive"><span class="token keyword">listen</span> <span class="token number">80</span></span><span class="token punctuation">;</span>
	<span class="token directive"><span class="token keyword">server_name</span> ~^www\.\w+\.com$</span><span class="token punctuation">;</span>
	<span class="token directive"><span class="token keyword">default_type</span> text/plain</span><span class="token punctuation">;</span>
	<span class="token directive"><span class="token keyword">return</span> <span class="token number">200</span> <span class="token string">'regex_success'</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token directive"><span class="token keyword">server</span></span><span class="token punctuation">{</span>
	<span class="token directive"><span class="token keyword">listen</span> <span class="token number">80</span></span><span class="token punctuation">;</span>
	<span class="token directive"><span class="token keyword">server_name</span> www.frx.*</span><span class="token punctuation">;</span>
	<span class="token directive"><span class="token keyword">default_type</span> text/plain</span><span class="token punctuation">;</span>
	<span class="token directive"><span class="token keyword">return</span> <span class="token number">200</span> <span class="token string">'wildcard_after_success'</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token directive"><span class="token keyword">server</span></span><span class="token punctuation">{</span>
	<span class="token directive"><span class="token keyword">listen</span> <span class="token number">80</span></span><span class="token punctuation">;</span>
	<span class="token directive"><span class="token keyword">server_name</span> *.frx.com</span><span class="token punctuation">;</span>
	<span class="token directive"><span class="token keyword">default_type</span> text/plain</span><span class="token punctuation">;</span>
	<span class="token directive"><span class="token keyword">return</span> <span class="token number">200</span> <span class="token string">'wildcard_before_success'</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token directive"><span class="token keyword">server</span></span><span class="token punctuation">{</span>
	<span class="token directive"><span class="token keyword">listen</span> <span class="token number">80</span></span><span class="token punctuation">;</span>
	<span class="token directive"><span class="token keyword">server_name</span> www.frx.com</span><span class="token punctuation">;</span>
	<span class="token directive"><span class="token keyword">default_type</span> text/plain</span><span class="token punctuation">;</span>
	<span class="token directive"><span class="token keyword">return</span> <span class="token number">200</span> <span class="token string">'exact_success'</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token directive"><span class="token keyword">server</span></span><span class="token punctuation">{</span>
	<span class="token directive"><span class="token keyword">listen</span> <span class="token number">80</span> default_server</span><span class="token punctuation">;</span>
	<span class="token directive"><span class="token keyword">server_name</span> _</span><span class="token punctuation">;</span>
	<span class="token directive"><span class="token keyword">default_type</span> text/plain</span><span class="token punctuation">;</span>
	<span class="token directive"><span class="token keyword">return</span> <span class="token number">444</span> <span class="token string">'default_server not found server'</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><p>è®¿é—® <code>http://www.kele.com</code> çš„ä¼˜å…ˆçº§ï¼šï¼ˆè®¿é—®å®Œåè¯·æ³¨é‡Šæ‰å¤„ç†è¿™ä¸ªè¯·æ±‚çš„ serverï¼‰</p> <ul><li>exact_successï¼ˆç¬¬ä¸€ä¸ªæ˜¯ç²¾ç¡®åŒ¹é…ï¼Œç„¶åæ³¨é‡Šæ‰è¯¥ serverï¼‰</li> <li>wildcard_before_successï¼ˆç¬¬äºŒä¸ªæ˜¯å¼€å§‹åŒ¹é…ç¬¦ï¼Œç„¶åæ³¨é‡Šæ‰è¯¥ serverï¼‰</li> <li>wildcard_after_successï¼ˆç¬¬ä¸‰ä¸ªæ˜¯ç»“å°¾åŒ¹é…ç¬¦ï¼Œç„¶åæ³¨é‡Šæ‰è¯¥ serverï¼‰</li> <li>regex_successï¼ˆç¬¬å››ä¸ªæ˜¯æ­£åˆ™è¡¨è¾¾å¼ï¼Œç„¶åæ³¨é‡Šæ‰è¯¥ serverï¼‰</li> <li>default_server not found server!!ï¼ˆç¬¬äº”ä¸ªæ˜¯é»˜è®¤ serverï¼Œå› ä¸ºå‰å››ä¸ªéƒ½æ³¨é‡Šäº†ï¼Œæ‰€ä»¥åªèƒ½èµ°é»˜è®¤çš„ serverï¼‰</li></ul> <p><strong>ç»“è®º</strong></p> <p>No1ï¼šå‡†ç¡®åŒ¹é… server_name</p> <p>No2ï¼šé€šé…ç¬¦åœ¨å¼€å§‹æ—¶åŒ¹é… server_name æˆåŠŸ</p> <p>No3ï¼šé€šé…ç¬¦åœ¨ç»“æŸæ—¶åŒ¹é… server_name æˆåŠŸ</p> <p>No4ï¼šæ­£åˆ™è¡¨è¾¾å¼åŒ¹é… server_name æˆåŠŸ</p> <p>No5ï¼šè¢«é»˜è®¤çš„ default_server å¤„ç†ï¼Œå¦‚æœæ²¡æœ‰æŒ‡å®šé»˜è®¤æ‰¾ç¬¬ä¸€ä¸ª server</p> <h3 id="locationæŒ‡ä»¤"><a href="#locationæŒ‡ä»¤" class="header-anchor">#</a> locationæŒ‡ä»¤</h3> <p><code>location</code> æŒ‡ä»¤æ˜¯ç”¨æ¥è®¾ç½®è¯·æ±‚çš„ URIã€‚</p> <div class="language-nginx line-numbers-mode"><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">server</span></span><span class="token punctuation">{</span>
	<span class="token directive"><span class="token keyword">listen</span> <span class="token number">80</span></span><span class="token punctuation">;</span>
	<span class="token directive"><span class="token keyword">server_name</span> localhost</span><span class="token punctuation">;</span>
	<span class="token directive"><span class="token keyword">location</span> /</span> <span class="token punctuation">{</span>
	
	<span class="token punctuation">}</span>
	<span class="token directive"><span class="token keyword">location</span> /abc</span> <span class="token punctuation">{</span>
	
	<span class="token punctuation">}</span>
	...
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><table><thead><tr><th>è¯­æ³•</th> <th>é»˜è®¤å€¼</th> <th>ä½ç½®</th></tr></thead> <tbody><tr><td>location [ = | ~ | ~* | ^~ | @ ] &lt;uri&gt;{...}</td> <td>â€”</td> <td>serverã€location</td></tr></tbody></table> <p>uri å˜é‡æ˜¯å¾…åŒ¹é…çš„è¯·æ±‚å­—ç¬¦ä¸²ï¼Œå¯ä»¥ä¸åŒ…å«æ­£åˆ™è¡¨è¾¾å¼ï¼Œä¹Ÿå¯ä»¥åŒ…å«æ­£åˆ™è¡¨è¾¾å¼ï¼Œé‚£ä¹ˆ Nginx æœåŠ¡å™¨åœ¨æœç´¢åŒ¹é… location çš„æ—¶å€™ï¼Œæ˜¯å…ˆä½¿ç”¨ä¸åŒ…å«æ­£åˆ™è¡¨è¾¾å¼è¿›è¡ŒåŒ¹é…ï¼Œæ‰¾åˆ°ä¸€ä¸ªåŒ¹é…åº¦æœ€é«˜çš„ä¸€ä¸ªï¼Œç„¶ååœ¨é€šè¿‡åŒ…å«æ­£åˆ™è¡¨è¾¾å¼çš„è¿›è¡ŒåŒ¹é…ï¼Œ<strong>å¦‚æœèƒ½åŒ¹é…åˆ°ç›´æ¥è®¿é—®æ­£åˆ™è¡¨è¾¾å¼çš„ï¼ŒåŒ¹é…ä¸åˆ°ï¼Œå°±ä½¿ç”¨åˆšæ‰åŒ¹é…åº¦æœ€é«˜ï¼ˆå‰ç¼€æœ€é•¿çš„ï¼‰çš„é‚£ä¸ª location æ¥å¤„ç†è¯·æ±‚</strong>ã€‚</p> <p>å±æ€§ä»‹ç»:</p> <p>ä¸å¸¦ç¬¦å·ï¼Œè¦æ±‚å¿…é¡»ä»¥æŒ‡å®šæ¨¡å¼å¼€å¤´ï¼Œä½†æ˜¯ä¸è¦æ±‚ç²¾ç¡®åŒ¹é…</p> <div class="language-nginx line-numbers-mode"><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">server</span></span> <span class="token punctuation">{</span>
	<span class="token directive"><span class="token keyword">listen</span> <span class="token number">80</span></span><span class="token punctuation">;</span>
	<span class="token directive"><span class="token keyword">server_name</span> 127.0.0.1</span><span class="token punctuation">;</span>
	<span class="token directive"><span class="token keyword">location</span> /abc</span> <span class="token punctuation">{</span>
		<span class="token directive"><span class="token keyword">default_type</span> text/plain</span><span class="token punctuation">;</span>
		<span class="token directive"><span class="token keyword">return</span> <span class="token number">200</span> <span class="token string">&quot;access success&quot;</span></span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment"># ä»¥ä¸‹è®¿é—®éƒ½æ˜¯æ­£ç¡®çš„</span>
http://192.168.91.200/abc
http://192.168.91.200/abc?p1=kele
http://192.168.91.200/abc/
http://192.168.91.200/abcdef
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p><code>=</code> æ˜¯ç”¨äºä¸åŒ…å«æ­£åˆ™è¡¨è¾¾å¼çš„ uriï¼Œå¿…é¡»ä¸æŒ‡å®šçš„æ¨¡å¼ç²¾ç¡®åŒ¹é…</p> <div class="language-nginx line-numbers-mode"><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">server</span></span> <span class="token punctuation">{</span>
	<span class="token directive"><span class="token keyword">listen</span> <span class="token number">80</span></span><span class="token punctuation">;</span>
	<span class="token directive"><span class="token keyword">server_name</span> 127.0.0.1</span><span class="token punctuation">;</span>
	<span class="token directive"><span class="token keyword">location</span> =/abc</span> <span class="token punctuation">{</span>
		<span class="token directive"><span class="token keyword">default_type</span> text/plain</span><span class="token punctuation">;</span>
		<span class="token directive"><span class="token keyword">return</span> <span class="token number">200</span> <span class="token string">&quot;access success&quot;</span></span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment"># åŒ¹é…æˆåŠŸ</span>
http://192.168.91.200/abc
http://192.168.91.200/abc?p1=TOM
<span class="token comment"># åŒ¹é…å¤±è´¥</span>
http://192.168.91.200/abc/
http://192.168.91.200/abcdef
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p><code>~</code> æ˜¯ç”¨äºè¡¨ç¤ºå½“å‰ uri ä¸­åŒ…å«äº†æ­£åˆ™è¡¨è¾¾å¼ï¼Œå¹¶ä¸”åŒºåˆ†å¤§å°å†™</p> <p><code>~*</code> æ˜¯ç”¨äºè¡¨ç¤ºå½“å‰ uri ä¸­åŒ…å«äº†æ­£åˆ™è¡¨è¾¾å¼ï¼Œä½†æ˜¯æ˜¯ä¸åŒºåˆ†å¤§å°å†™</p> <p>æ¢å¥è¯è¯´ï¼Œ<strong>å¦‚æœ uri åŒ…å«äº†æ­£åˆ™è¡¨è¾¾å¼ï¼Œéœ€è¦ç”¨ä¸Šè¿°ä¸¤ä¸ªç¬¦å·æ¥æ ‡è¯†</strong></p> <div class="language-nginx line-numbers-mode"><pre class="language-nginx"><code><span class="token comment"># ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ï¼ŒåŒºåˆ†å¤§å°å†™</span>
<span class="token directive"><span class="token keyword">server</span></span> <span class="token punctuation">{</span>
	<span class="token directive"><span class="token keyword">listen</span> <span class="token number">80</span></span><span class="token punctuation">;</span>
	<span class="token directive"><span class="token keyword">server_name</span> 127.0.0.1</span><span class="token punctuation">;</span>
	<span class="token directive"><span class="token keyword">location</span> ~^/abc\w$</span> <span class="token punctuation">{</span>
		<span class="token directive"><span class="token keyword">default_type</span> text/plain</span><span class="token punctuation">;</span>
		<span class="token directive"><span class="token keyword">return</span> <span class="token number">200</span> <span class="token string">&quot;access success&quot;</span></span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment"># ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ï¼Œä¸åŒºåˆ†å¤§å°å†™</span>
<span class="token directive"><span class="token keyword">server</span></span> <span class="token punctuation">{</span>
	<span class="token directive"><span class="token keyword">listen</span> <span class="token number">80</span></span><span class="token punctuation">;</span>
	<span class="token directive"><span class="token keyword">server_name</span> 127.0.0.1</span><span class="token punctuation">;</span>
	<span class="token directive"><span class="token keyword">location</span> ~*^/abc\w$</span> <span class="token punctuation">{</span>
		<span class="token directive"><span class="token keyword">default_type</span> text/plain</span><span class="token punctuation">;</span>
		<span class="token directive"><span class="token keyword">return</span> <span class="token number">200</span> <span class="token string">&quot;access success&quot;</span></span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p><code>^~</code> æ˜¯ç”¨äºä¸åŒ…å«æ­£åˆ™è¡¨è¾¾å¼çš„ uriï¼ŒåŠŸèƒ½å’Œä¸åŠ ç¬¦å·çš„ä¸€è‡´ï¼Œå”¯ä¸€ä¸åŒçš„æ˜¯ï¼Œå¦‚æœè¯·æ±‚åŒ¹é…ä¸Šäº†ï¼Œé‚£ä¹ˆå°±åœæ­¢æœç´¢å…¶ä»–æ¨¡å¼äº†ã€‚</p> <div class="language-nginx line-numbers-mode"><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">server</span></span> <span class="token punctuation">{</span>
	<span class="token directive"><span class="token keyword">listen</span> <span class="token number">80</span></span><span class="token punctuation">;</span>
	<span class="token directive"><span class="token keyword">server_name</span> 127.0.0.1</span><span class="token punctuation">;</span>
	<span class="token directive"><span class="token keyword">location</span> ^~/abc</span> <span class="token punctuation">{</span>
		<span class="token directive"><span class="token keyword">default_type</span> text/plain</span><span class="token punctuation">;</span>
		<span class="token directive"><span class="token keyword">return</span> <span class="token number">200</span> <span class="token string">&quot;access success&quot;</span></span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><code>@</code> å‰ç¼€å¯ä»¥ç”¨æ¥å®šä¹‰ä¸€ä¸ªå‘½åçš„ location,è¯¥ location ä¸å¤„ç†æ­£å¸¸çš„å¤–éƒ¨è¯·æ±‚,ä¸€èˆ¬ç”¨æ¥å½“ä½œæ ‡è¯†ä¾›å†…éƒ¨é‡å®šå‘ä½¿ç”¨ã€‚å®ƒä»¬ä¸èƒ½åµŒå¥—,ä¹Ÿä¸èƒ½åŒ…å«åµŒå¥—çš„ locationã€‚</p> <div class="language-nginx line-numbers-mode"><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">location</span> /try</span> <span class="token punctuation">{</span>
    <span class="token directive"><span class="token keyword">try_files</span> <span class="token variable">$uri</span> <span class="token variable">$uri</span>/ @name</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token directive"><span class="token keyword">location</span> /error</span> <span class="token punctuation">{</span>
    <span class="token directive"><span class="token keyword">error_page</span> <span class="token number">404</span> = @name</span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">return</span> <span class="token number">404</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token directive"><span class="token keyword">location</span> @name</span> <span class="token punctuation">{</span>
    <span class="token directive"><span class="token keyword">return</span> <span class="token number">200</span> <span class="token string">&quot;@name&quot;</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>è¿™æ—¶è®¿é—® <code>/try</code> æˆ–è€… <code>/error</code> éƒ½ä¼šè¿”å› <code>@name</code>ã€‚</p> <h3 id="root-aliasæŒ‡ä»¤"><a href="#root-aliasæŒ‡ä»¤" class="header-anchor">#</a> root/aliasæŒ‡ä»¤</h3> <ul><li><code>root</code> æŒ‡ä»¤æ˜¯è®¾ç½®è¯·æ±‚èµ„æºçš„æ ¹ç›®å½•ã€‚é»˜è®¤å€¼æ˜¯ htmlã€‚</li></ul> <table><thead><tr><th>è¯­æ³•</th> <th>é»˜è®¤å€¼</th> <th>ä½ç½®</th></tr></thead> <tbody><tr><td>root &lt;path&gt;;</td> <td>root html;</td> <td>httpã€serverã€location</td></tr></tbody></table> <p>path æ˜¯ Nginx æœåŠ¡å™¨æ¥æ”¶åˆ°è¯·æ±‚ä»¥åæŸ¥æ‰¾èµ„æºçš„æ ¹ç›®å½•è·¯å¾„ã€‚</p> <ul><li><code>alias</code> æŒ‡ä»¤æ˜¯ç”¨æ¥æ›´æ”¹ location çš„ URIã€‚</li></ul> <table><thead><tr><th>è¯­æ³•</th> <th>é»˜è®¤å€¼</th> <th>ä½ç½®</th></tr></thead> <tbody><tr><td>alias &lt;path&gt;;</td> <td>â€”</td> <td>location</td></tr></tbody></table> <ul><li>path æ˜¯ä¿®æ”¹åçš„æ ¹è·¯å¾„ã€‚</li></ul> <p><strong>ä»¥ä¸Šä¸¤ä¸ªæŒ‡ä»¤éƒ½å¯ä»¥æ¥æŒ‡å®šè®¿é—®èµ„æºçš„è·¯å¾„ï¼Œé‚£ä¹ˆè¿™ä¸¤è€…ä¹‹é—´çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</strong></p> <blockquote><p><strong>ä¸¾ä¾‹è¯´æ˜</strong></p></blockquote> <ol><li><p>åœ¨ <code>/usr/local/nginx/html</code> ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª images ç›®å½•,å¹¶åœ¨ç›®å½•ä¸‹æ”¾å…¥ä¸€å¼ å›¾ç‰‡ <code>mv.png</code> å›¾ç‰‡ã€‚</p> <p>ç„¶åè¿›å…¥é…ç½®æ–‡ä»¶ï¼Œæ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š</p></li></ol> <div class="language-nginx line-numbers-mode"><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">location</span> /images</span> <span class="token punctuation">{</span>
    <span class="token directive"><span class="token keyword">root</span> /usr/local/nginx/html</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>è®¿é—®å›¾ç‰‡çš„è·¯å¾„ä¸ºï¼š<code>http://192.168.91.200/images/mv.png</code></p> <ol start="2"><li>å¦‚æœæŠŠrootæ”¹ä¸ºalias</li></ol> <div class="language-nginx line-numbers-mode"><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">location</span> /images</span> <span class="token punctuation">{</span>
    <span class="token directive"><span class="token keyword">alias</span> /usr/local/nginx/html</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>å†æ¬¡è®¿é—®ä¸Šè¿°åœ°å€ï¼Œé¡µé¢ä¼šå‡ºç° 404 çš„é”™è¯¯ï¼ŒæŸ¥çœ‹é”™è¯¯æ—¥å¿—ä¼šå‘ç°æ˜¯å› ä¸ºåœ°å€ä¸å¯¹ï¼Œæ‰€ä»¥éªŒè¯äº†ï¼š</p> <ul><li><p>root çš„å¤„ç†ç»“æœæ˜¯ï¼š<strong>root è·¯å¾„ + location è·¯å¾„</strong>ï¼Œlocation è·¯å¾„åŒ…æ‹¬åŒ¹é…åé¢çš„è¯·æ±‚ï¼Œå³åŒ…æ‹¬ /mv.png</p> <p><code>/usr/local/nginx/html/images/mv.png</code></p></li></ul> <ul><li>alias çš„å¤„ç†ç»“æœæ˜¯ï¼š<strong>ä½¿ç”¨ alias è·¯å¾„æ›¿æ¢ location è·¯å¾„</strong>ï¼Œä½†æ˜¯ä¸ä¼šæ›¿æ¢åŒ¹é…åé¢çš„è¯·æ±‚ï¼Œå³ä¸ä¼šæ›¿æ¢ /mv.png</li></ul> <p>éœ€è¦åœ¨ alias åé¢è·¯å¾„æ”¹ä¸ºï¼š</p> <div class="language-nginx line-numbers-mode"><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">location</span> /images</span> <span class="token punctuation">{</span>
    <span class="token directive"><span class="token keyword">alias</span> /usr/local/nginx/html/images</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ol start="3"><li>å¦‚æœ location è·¯å¾„æ˜¯ä»¥ / ç»“å°¾,åˆ™ alias ä¹Ÿå¿…é¡»æ˜¯ä»¥ / ç»“å°¾ï¼Œroot æ²¡æœ‰è¦æ±‚ã€‚</li></ol> <p>å°†ä¸Šè¿°é…ç½®ä¿®æ”¹ä¸ºï¼š</p> <div class="language-nginx line-numbers-mode"><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">location</span> /images/</span> <span class="token punctuation">{</span>
    <span class="token directive"><span class="token keyword">alias</span> /usr/local/nginx/html/images</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>è®¿é—®å°±ä¼šå‡ºé—®é¢˜ï¼ŒæŸ¥çœ‹é”™è¯¯æ—¥å¿—è¿˜æ˜¯è·¯å¾„ä¸å¯¹ï¼Œæ‰€ä»¥éœ€è¦æŠŠ alias åé¢åŠ ä¸Š /</p> <p>å°ç»“ï¼š</p> <ul><li>root çš„å¤„ç†ç»“æœæ˜¯: root è·¯å¾„ + location è·¯å¾„</li> <li>alias çš„å¤„ç†ç»“æœæ˜¯:ä½¿ç”¨ alias è·¯å¾„æ›¿æ¢ location è·¯å¾„</li> <li>alias æ˜¯ä¸€ä¸ªç›®å½•åˆ«åçš„å®šä¹‰ï¼Œroot åˆ™æ˜¯æœ€ä¸Šå±‚ç›®å½•çš„å«ä¹‰</li> <li>å¦‚æœ location è·¯å¾„æ˜¯ä»¥ / ç»“å°¾,åˆ™ alias ä¹Ÿå¿…é¡»æ˜¯ä»¥ / ç»“å°¾ï¼Œroot æ²¡æœ‰è¦æ±‚
<ul><li><strong>alias ä¸æ”¯æŒ location çš„ =</strong></li></ul></li></ul> <p>è¿™é‡Œå†å¤šè¨€å‡ å¥ï¼Œalias åæŒ‡å®šçš„èµ„æºè·¯å¾„ï¼ŒNginx å°±ä¼šå»è¿™ä¸ªè·¯å¾„ä¸‹æ‰¾èµ„æºï¼Œã€Œå¿½ç•¥ã€location æœ¬èº«çš„çš„è¯·æ±‚ï¼Œä»…æ‹¼æ¥ location åé¢çš„è¯·æ±‚ã€‚å¦‚æœä½ æƒ³å»æ‹¼æ¥ location æœ¬èº«ï¼Œå°±ç”¨ç»å¯¹è·¯å¾„ï¼ˆåŒ…æ‹¬ locationï¼‰çš„aliasã€‚</p> <h3 id="indexæŒ‡ä»¤"><a href="#indexæŒ‡ä»¤" class="header-anchor">#</a> indexæŒ‡ä»¤</h3> <p><code>index</code> æŒ‡ä»¤æ˜¯è®¾ç½®ç½‘ç«™çš„é»˜è®¤é¦–é¡µã€‚é»˜è®¤æ˜¯ index.htmlã€‚</p> <table><thead><tr><th>è¯­æ³•</th> <th>é»˜è®¤å€¼</th> <th>ä½ç½®</th></tr></thead> <tbody><tr><td>index &lt;file&gt; ...;</td> <td>index index.html;</td> <td>httpã€serverã€location</td></tr></tbody></table> <p><code>index</code> åé¢å¯ä»¥è·Ÿå¤šä¸ªè®¾ç½®ï¼Œå¦‚æœè®¿é—®çš„æ—¶å€™æ²¡æœ‰æŒ‡å®šå…·ä½“è®¿é—®çš„èµ„æºï¼Œåˆ™ä¼šä»å·¦å¾€å³ä¾æ¬¡è¿›è¡ŒæŸ¥æ‰¾ï¼Œæ‰¾åˆ°ç¬¬ä¸€ä¸ªä¸ºæ­¢ã€‚</p> <p>ä¸¾ä¾‹è¯´æ˜ï¼š</p> <div class="language-nginx line-numbers-mode"><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">location</span> /</span> <span class="token punctuation">{</span>
	<span class="token directive"><span class="token keyword">root</span> /usr/local/nginx/html</span><span class="token punctuation">;</span>
	<span class="token directive"><span class="token keyword">index</span> index.html index.htm</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>è®¿é—®è¯¥ location çš„æ—¶å€™ï¼Œå¯ä»¥é€šè¿‡ <code>http://ip:port/</code> è®¿é—®ï¼Œåœ°å€åé¢å¦‚æœä¸æ·»åŠ ä»»ä½•å†…å®¹ï¼Œåˆ™é»˜è®¤ä¾æ¬¡è®¿é—® index.html å’Œ index.htmï¼Œæ‰¾åˆ°ç¬¬ä¸€ä¸ªæ¥è¿›è¡Œè¿”å›ã€‚</p> <h3 id="error-pageæŒ‡ä»¤"><a href="#error-pageæŒ‡ä»¤" class="header-anchor">#</a> error_pageæŒ‡ä»¤</h3> <p>error_page æŒ‡ä»¤æ˜¯è®¾ç½®ç½‘ç«™çš„é”™è¯¯é¡µé¢ã€‚</p> <table><thead><tr><th>è¯­æ³•</th> <th>é»˜è®¤å€¼</th> <th>ä½ç½®</th></tr></thead> <tbody><tr><td>error_page &lt;code&gt; ...... [=[response]] &lt;uri&gt;;</td> <td>â€”</td> <td>httpã€serverã€location ......</td></tr></tbody></table> <p>code æ˜¯å“åº”ç ã€‚</p> <p><strong>å½“å‡ºç°å¯¹åº”çš„å“åº” code åï¼Œå¦‚ä½•æ¥å¤„ç†ï¼Ÿ</strong></p> <blockquote><p><strong>ä¸¾ä¾‹è¯´æ˜</strong></p></blockquote> <ol><li>å¯ä»¥æŒ‡å®šå…·ä½“è·³è½¬çš„åœ°å€</li></ol> <div class="language-nginx line-numbers-mode"><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">server</span></span> <span class="token punctuation">{</span>
	<span class="token directive"><span class="token keyword">error_page</span> <span class="token number">404</span> http://www.frx.com</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>å½“é¡µé¢äº§ç”Ÿ 404 æ—¶ï¼Œè‡ªåŠ¨è·³è½¬åˆ° <code>http://www.frx.com</code></p> <ol start="2"><li>å¯ä»¥æŒ‡å®šé‡å®šå‘åœ°å€</li></ol> <div class="language-nginx line-numbers-mode"><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">server</span></span><span class="token punctuation">{</span>
	<span class="token directive"><span class="token keyword">error_page</span> <span class="token number">404</span> /50x.html</span><span class="token punctuation">;</span>
	<span class="token directive"><span class="token keyword">error_page</span> <span class="token number">500</span> <span class="token number">502</span> <span class="token number">503</span> <span class="token number">504</span> /50x.html</span><span class="token punctuation">;</span>
	<span class="token directive"><span class="token keyword">location</span> =/50x.html</span> <span class="token punctuation">{</span>
		<span class="token directive"><span class="token keyword">root</span> html</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>äº§ç”Ÿé”™è¯¯é¡µé¢æ—¶ï¼Œé‡å®šå‘åˆ° /50x.htmlï¼Œç„¶åè§¦å‘ locationï¼Œæœ€ç»ˆè®¿é—®çš„æ˜¯ html ç›®å½•ä¸‹çš„ 50x.html é¡µé¢</p> <ol start="3"><li>ä½¿ç”¨ location çš„ @ ç¬¦åˆå®Œæˆé”™è¯¯ä¿¡æ¯å±•ç¤º</li></ol> <div class="language-nginx line-numbers-mode"><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">server</span></span><span class="token punctuation">{</span>
	<span class="token directive"><span class="token keyword">error_page</span> <span class="token number">404</span> @jump_to_error</span><span class="token punctuation">;</span>
	<span class="token directive"><span class="token keyword">location</span> @jump_to_error</span> <span class="token punctuation">{</span>
		<span class="token directive"><span class="token keyword">default_type</span> text/plain</span><span class="token punctuation">;</span>
		<span class="token directive"><span class="token keyword">return</span> <span class="token number">404</span> <span class="token string">'Not Found Page...'</span></span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>å¯é€‰é¡¹ <code>=[response]</code> çš„ä½œç”¨æ˜¯ç”¨æ¥å°†ç›¸åº”ä»£ç æ›´æ”¹ä¸ºå¦å¤–ä¸€ä¸ªï¼Œå¦‚ä¸‹ï¼š</p> <div class="language-nginx line-numbers-mode"><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">server</span></span><span class="token punctuation">{</span>
	<span class="token directive"><span class="token keyword">error_page</span> <span class="token number">404</span> =200 /50x.html</span><span class="token punctuation">;</span>
	<span class="token directive"><span class="token keyword">location</span> =/50x.html</span> <span class="token punctuation">{</span>
		<span class="token directive"><span class="token keyword">root</span> html</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>è¿™æ ·çš„è¯ï¼Œå½“è¿”å› 404 æ‰¾ä¸åˆ°å¯¹åº”çš„èµ„æºçš„æ—¶å€™ï¼Œåœ¨æµè§ˆå™¨ä¸Šå¯ä»¥çœ‹åˆ°ï¼Œæœ€ç»ˆè¿”å›çš„çŠ¶æ€ç æ˜¯ 200 è€Œä¸æ˜¯ 404ï¼Œè¿™å—éœ€è¦æ³¨æ„ä¸‹ï¼Œç¼–å†™ error_page åé¢çš„å†…å®¹ï¼Œ404 åé¢éœ€è¦åŠ ç©ºæ ¼ï¼Œ200 å‰é¢ä¸èƒ½åŠ ç©ºæ ¼ã€‚</p> <h2 id="é™æ€èµ„æºä¼˜åŒ–é…ç½®"><a href="#é™æ€èµ„æºä¼˜åŒ–é…ç½®" class="header-anchor">#</a> é™æ€èµ„æºä¼˜åŒ–é…ç½®</h2> <p>Nginx å¯¹é™æ€èµ„æºå¦‚ä½•è¿›è¡Œä¼˜åŒ–é…ç½®ã€‚è¿™é‡Œä»ä¸‰ä¸ªå±æ€§é…ç½®è¿›è¡Œä¼˜åŒ–ï¼š</p> <div class="language-nginx line-numbers-mode"><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">sendfile</span> <span class="token boolean">on</span></span><span class="token punctuation">;</span>
<span class="token directive"><span class="token keyword">tcp_nopush</span> <span class="token boolean">on</span></span><span class="token punctuation">;</span>
<span class="token directive"><span class="token keyword">tcp_nodeplay</span> <span class="token boolean">on</span></span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>å»ºè®®ä¸‰ä¸ªéƒ½å¼€å¯ã€‚å¦‚æœæƒ³çŸ¥é“ä¸ºä»€ä¹ˆï¼Œè¯·å¾€ä¸‹çœ‹ã€‚</p> <h3 id="sendfile"><a href="#sendfile" class="header-anchor">#</a> sendï¬le</h3> <p>è¯¥æŒ‡ä»¤æ˜¯ç”¨æ¥å¼€å¯é«˜æ•ˆçš„æ–‡ä»¶ä¼ è¾“æ¨¡å¼ã€‚é»˜è®¤å…³é—­ï¼Œå»ºè®®å¼€å¯ã€‚</p> <table><thead><tr><th>è¯­æ³•</th> <th>é»˜è®¤å€¼</th> <th>ä½ç½®</th></tr></thead> <tbody><tr><td>sendï¬le &lt;on | off&gt;;</td> <td>sendï¬le oï¬€;</td> <td>httpã€serverã€location ......</td></tr></tbody></table> <p>è¯·æ±‚é™æ€èµ„æºçš„è¿‡ç¨‹ï¼šå®¢æˆ·ç«¯é€šè¿‡ç½‘ç»œæ¥å£å‘æœåŠ¡ç«¯å‘é€è¯·æ±‚ï¼Œæ“ä½œç³»ç»Ÿå°†è¿™äº›å®¢æˆ·ç«¯çš„è¯·æ±‚ä¼ é€’ç»™æœåŠ¡å™¨ç«¯åº”ç”¨ç¨‹åºï¼ŒæœåŠ¡å™¨ç«¯åº”ç”¨ç¨‹åºä¼šå¤„ç†è¿™äº›è¯·æ±‚ï¼Œè¯·æ±‚å¤„ç†å®Œæˆä»¥åï¼Œæ“ä½œç³»ç»Ÿè¿˜éœ€è¦å°†å¤„ç†å¾—åˆ°çš„ç»“æœé€šè¿‡ç½‘ç»œé€‚é…å™¨ä¼ é€’å›å»ã€‚</p> <p>å¦‚ï¼š</p> <div class="language-nginx line-numbers-mode"><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">server</span></span> <span class="token punctuation">{</span>
	<span class="token directive"><span class="token keyword">listen</span> <span class="token number">80</span></span><span class="token punctuation">;</span>
	<span class="token directive"><span class="token keyword">server_name</span> localhostï¼›
	location /</span> <span class="token punctuation">{</span>
		<span class="token directive"><span class="token keyword">root</span> html</span><span class="token punctuation">;</span>
		<span class="token directive"><span class="token keyword">index</span> index.html</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>å‡è®¾åœ¨ html ç›®å½•ä¸‹æœ‰ä¸€ä¸ª welcome.html é¡µé¢ï¼Œè®¿é—®åœ°å€ï¼š<code>http://192.168.91.200/welcome.html</code>ã€‚</p> <p>æµç¨‹å¦‚ä¸‹ï¼š</p> <p><img src="https://jsdelivr.codeqihan.com//gh/xustudyxu/image-hosting1@master/20220731/image.24hrbukvg0lc.webp" alt="image"></p> <p><img src="https://jsdelivr.codeqihan.com//gh/xustudyxu/image-hosting1@master/20220731/image.5l2efa1uqlo0.webp" alt="image"></p> <h3 id="tcp-nopush"><a href="#tcp-nopush" class="header-anchor">#</a> tcp_nopush</h3> <p>è¯¥æŒ‡ä»¤å¿…é¡»åœ¨ sendfile æ‰“å¼€çš„çŠ¶æ€ä¸‹æ‰ä¼šç”Ÿæ•ˆï¼Œä¸»è¦æ˜¯ç”¨æ¥æå‡ç½‘ç»œåŒ…çš„ä¼ è¾“ã€Œæ•ˆç‡ã€ã€‚é»˜è®¤å…³é—­ã€‚</p> <table><thead><tr><th>è¯­æ³•</th> <th>é»˜è®¤å€¼</th> <th>ä½ç½®</th></tr></thead> <tbody><tr><td>tcp_nopush &lt;on | off&gt;;</td> <td>tcp_nopush oï¬€;</td> <td>httpã€serverã€location</td></tr></tbody></table> <h3 id="tcp-nodelay"><a href="#tcp-nodelay" class="header-anchor">#</a> tcp_nodelay</h3> <p>è¯¥æŒ‡ä»¤å¿…é¡»åœ¨ keep-alive è¿æ¥å¼€å¯çš„æƒ…å†µä¸‹æ‰ç”Ÿæ•ˆï¼Œæ¥æé«˜ç½‘ç»œåŒ…ä¼ è¾“çš„ã€Œå®æ—¶æ€§ã€ã€‚é»˜è®¤å¼€å¯ã€‚</p> <table><thead><tr><th>è¯­æ³•</th> <th>é»˜è®¤å€¼</th> <th>ä½ç½®</th></tr></thead> <tbody><tr><td>tcp_nodelay &lt;on | off&gt;;</td> <td>tcp_nodelay on;</td> <td>httpã€serverã€location</td></tr></tbody></table> <p><img src="https://jsdelivr.codeqihan.com//gh/xustudyxu/image-hosting1@master/20220731/image.1iu7wmocw0ao.webp" alt="image"></p> <p><code>tcp_nopush</code> å°±åƒå¤§å·´è½¦ï¼Œç­‰æ‰€æœ‰æ—…å®¢å æ»¡äº†åº§ä½ï¼Œæ‰å¼€å§‹å‘è½¦åˆ°æ™¯ç‚¹ï¼ˆå®¢æˆ·ç«¯ï¼‰ï¼Œè€Œ <code>tcp_nodelay</code>ï¼Œä¸Šæ¥ä¸€ä¸ªæ—…å®¢ï¼Œå°±é©¬ä¸Šå‘è½¦åˆ°æ™¯ç‚¹å®¢æˆ·ç«¯ï¼‰ã€‚</p> <h3 id="ä¼˜åŒ–æ€»ç»“"><a href="#ä¼˜åŒ–æ€»ç»“" class="header-anchor">#</a> ä¼˜åŒ–æ€»ç»“</h3> <p>ç»è¿‡åˆ†æï¼Œã€ tcp_nopush ã€å’Œã€ tcp_nodelay ã€çœ‹èµ·æ¥æ˜¯ã€Œäº’æ–¥çš„ã€ï¼Œé‚£ä¹ˆä¸ºä»€ä¹ˆè¦å°†è¿™ä¸¤ä¸ªå€¼éƒ½æ‰“å¼€ï¼Œè¿™ä¸ªå¤§å®¶éœ€è¦çŸ¥é“çš„æ˜¯åœ¨ Linux2.5.9 ä»¥åçš„ç‰ˆæœ¬ä¸­ä¸¤è€…æ˜¯å¯ä»¥å…¼å®¹çš„ï¼Œä¸‰ä¸ªæŒ‡ä»¤éƒ½å¼€å¯çš„å¥½å¤„æ˜¯ï¼Œsendfile å¯ä»¥å¼€å¯é«˜æ•ˆçš„æ–‡ä»¶ä¼ è¾“æ¨¡å¼ï¼Œã€ tcp_nopush ã€å¼€å¯å¯ä»¥ç¡®ä¿åœ¨å‘é€åˆ°å®¢æˆ·ç«¯ä¹‹å‰æ•°æ®åŒ…å·²ç»å……åˆ†ã€Œå¡«æ»¡ã€ï¼Œè¿™å¤§å¤§å‡å°‘äº†ç½‘ç»œå¼€é”€ï¼Œå¹¶åŠ å¿«äº†æ–‡ä»¶å‘é€çš„é€Ÿåº¦ã€‚ç„¶åï¼Œå½“å®ƒåˆ°è¾¾æœ€åä¸€ä¸ªå¯èƒ½å› ä¸ºæ²¡æœ‰ã€Œå¡«æ»¡ã€è€Œæš‚åœçš„æ•°æ®åŒ…æ—¶ï¼ŒNginx ä¼šå¿½ç•¥ã€ tcp_nopush ã€å‚æ•°ï¼Œ ç„¶åï¼Œã€ tcp_nodelay ã€å¼ºåˆ¶å¥—æ¥å­—å‘é€æ•°æ®ã€‚ç”±æ­¤å¯çŸ¥ï¼Œã€ tcp_nopush ã€å¯ä»¥ä¸ã€ tcp_nodelay ã€ä¸€èµ·è®¾ç½®ï¼Œå®ƒæ¯”å•ç‹¬é…ç½®ã€ tcp_nodelay ã€å…·æœ‰æ›´å¼ºçš„æ€§èƒ½ã€‚</p> <p>æ‰€ä»¥å›å½’å¼€å¤´ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¦‚ä¸‹é…ç½®æ¥ä¼˜åŒ– Nginx é™æ€èµ„æºçš„å¤„ç†ï¼š</p> <div class="language-nginx line-numbers-mode"><pre class="language-nginx"><code><span class="token comment"># ä¸‰ä¸ªéƒ½å¼€å¯</span>
<span class="token directive"><span class="token keyword">sendfile</span> <span class="token boolean">on</span></span><span class="token punctuation">;</span>
<span class="token directive"><span class="token keyword">tcp_nopush</span> <span class="token boolean">on</span></span><span class="token punctuation">;</span>
<span class="token directive"><span class="token keyword">tcp_nodelay</span> <span class="token boolean">on</span></span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="é™æ€èµ„æºå‹ç¼©é…ç½®"><a href="#é™æ€èµ„æºå‹ç¼©é…ç½®" class="header-anchor">#</a> é™æ€èµ„æºå‹ç¼©é…ç½®</h2> <p>ç»è¿‡ä¸Šè¿°å†…å®¹çš„ä¼˜åŒ–ï¼Œæˆ‘ä»¬å†æ¬¡æ€è€ƒä¸€ä¸ªé—®é¢˜ï¼Œå‡å¦‚åœ¨æ»¡è¶³ä¸Šè¿°ä¼˜åŒ–çš„å‰æä¸‹ï¼Œæˆ‘ä»¬ä¼ é€ä¸€ä¸ª 1M çš„æ•°æ®å’Œä¸€ä¸ª 10M çš„æ•°æ®é‚£ä¸ªæ•ˆç‡é«˜ï¼Ÿç­”æ¡ˆæ˜¾è€Œæ˜“è§ï¼Œ<strong>ä¼ è¾“å†…å®¹å°ï¼Œé€Ÿåº¦å°±ä¼šå¿«</strong>ã€‚é‚£ä¹ˆé—®é¢˜åˆæ¥äº†ï¼ŒåŒæ ·çš„å†…å®¹ï¼Œå¦‚æœæŠŠå¤§å°é™ä¸‹æ¥ï¼Œæˆ‘ä»¬è„‘è¢‹é‡Œé¢è¦è¹¦å‡ºä¸€ä¸ªè¯å°±æ˜¯ã€Œå‹ç¼©ã€ï¼Œæ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ¥å­¦ä¹  Nginx çš„é™æ€èµ„æºå‹ç¼©æ¨¡å—ã€‚</p> <p>åœ¨ Nginx çš„é…ç½®æ–‡ä»¶ä¸­å¯ä»¥é€šè¿‡é…ç½® gzip æ¥å¯¹é™æ€èµ„æºè¿›è¡Œå‹ç¼©ï¼Œç›¸å…³çš„æŒ‡ä»¤å¯ä»¥é…ç½®åœ¨ http å—ã€server å—å’Œ location å—ä¸­ï¼ŒNginx å¯ä»¥é€šè¿‡å¯¹è¿™äº›æŒ‡ä»¤è¿›è¡Œè§£æå’Œå¤„ç†ï¼š</p> <ul><li><code>ngx_http_gzip_module</code> æ¨¡å—</li> <li><code>ngx_http_gzip_static_module</code> æ¨¡å—</li> <li><code>ngx_http_gunzip_module</code> æ¨¡å—</li></ul> <p>æ¥ä¸‹æ¥æˆ‘ä»¬ä»ä»¥ä¸‹å†…å®¹è¿›è¡Œå­¦ä¹ ï¼š</p> <ul><li>Gzip å„æ¨¡å—æ”¯æŒçš„é…ç½®æŒ‡ä»¤</li> <li>Gzip å‹ç¼©åŠŸèƒ½çš„é…ç½®</li> <li>Gzip å’Œ sendfile çš„å†²çªè§£å†³</li> <li>æµè§ˆå™¨ä¸æ”¯æŒ Gzip çš„è§£å†³æ–¹æ¡ˆ</li></ul> <h3 id="gzipæ¨¡å—é…ç½®æŒ‡ä»¤"><a href="#gzipæ¨¡å—é…ç½®æŒ‡ä»¤" class="header-anchor">#</a> Gzipæ¨¡å—é…ç½®æŒ‡ä»¤</h3> <p>æ¥ä¸‹æ¥æ‰€å­¦ä¹ çš„æŒ‡ä»¤éƒ½æ¥è‡ª <code>ngx_http_gzip_module</code> æ¨¡å—ï¼Œè¯¥æ¨¡å—ä¼šåœ¨ Nginx å®‰è£…çš„æ—¶å€™å†…ç½®åˆ° Nginx çš„å®‰è£…ç¯å¢ƒä¸­ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨è¿™äº›æŒ‡ä»¤ã€‚</p> <ul><li><code>gzip</code> æŒ‡ä»¤æ˜¯ç”¨äºå¼€å¯æˆ–è€…å…³é—­ Gzip åŠŸèƒ½ã€‚é»˜è®¤å…³é—­</li></ul> <table><thead><tr><th>è¯­æ³•</th> <th>é»˜è®¤å€¼</th> <th>ä½ç½®</th></tr></thead> <tbody><tr><td>gzip &lt;on | off&gt;;</td> <td>gzip off;</td> <td>httpã€serverã€location ......</td></tr></tbody></table> <p>æ³¨æ„ï¼šåªæœ‰è¯¥æŒ‡ä»¤ä¸ºæ‰“å¼€çŠ¶æ€ï¼Œä¸‹é¢çš„æŒ‡ä»¤æ‰æœ‰æ•ˆæœ</p> <div class="language-nginx line-numbers-mode"><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">http</span></span><span class="token punctuation">{</span>
	<span class="token directive"><span class="token keyword">gzip</span> <span class="token boolean">on</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li><code>gzip_types</code> æŒ‡ä»¤å¯ä»¥æ ¹æ®å“åº”é¡µçš„ MIME ç±»å‹é€‰æ‹©æ€§åœ°å¼€å¯ Gzip å‹ç¼©åŠŸèƒ½ã€‚é»˜è®¤æ˜¯ text/html</li></ul> <table><thead><tr><th>è¯­æ³•</th> <th>é»˜è®¤å€¼</th> <th>ä½ç½®</th></tr></thead> <tbody><tr><td>gzip_types &lt;mime-type&gt; ...... ;</td> <td>gzip_types text/html;</td> <td>httpã€serverã€location</td></tr></tbody></table> <p>æ‰€é€‰æ‹©çš„å€¼å¯ä»¥ä» mime.types æ–‡ä»¶ä¸­è¿›è¡ŒæŸ¥æ‰¾ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ * ä»£è¡¨æ‰€æœ‰ã€‚</p> <div class="language-nginx line-numbers-mode"><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">http</span></span><span class="token punctuation">{</span>
	<span class="token directive"><span class="token keyword">gzip_types</span> application/javascript</span><span class="token punctuation">;</span>
	<span class="token comment"># * ä»£è¡¨æ‰€æœ‰</span>
	gzip_types *
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li><code>gzip_comp_level</code> æŒ‡ä»¤æ˜¯ç”¨äºè®¾ç½® Gzip å‹ç¼©ç¨‹åº¦ï¼Œçº§åˆ«ä» 1-9ï¼Œ1 è¡¨ç¤ºè¦æ˜¯ç¨‹åº¦æœ€ä½ï¼Œè¦æ˜¯æ•ˆç‡æœ€é«˜ï¼Œ9 åˆšå¥½ç›¸åï¼Œå‹ç¼©ç¨‹åº¦æœ€é«˜ï¼Œä½†æ˜¯æ•ˆç‡æœ€ä½ã€æœ€è´¹æ—¶é—´ã€‚é»˜è®¤å€¼æ˜¯ 1</li></ul> <table><thead><tr><th>è¯­æ³•</th> <th>é»˜è®¤å€¼</th> <th>ä½ç½®</th></tr></thead> <tbody><tr><td>gzip_comp_level &lt;level&gt;;</td> <td>gzip_comp_level 1;</td> <td>httpã€serverã€location</td></tr></tbody></table> <div class="language-nginx line-numbers-mode"><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">http</span></span><span class="token punctuation">{</span>
	<span class="token directive"><span class="token keyword">gzip_comp_level</span> <span class="token number">6</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li><code>gzip_vary</code> æŒ‡ä»¤æ˜¯ç”¨äºè®¾ç½®ä½¿ç”¨ Gzip è¿›è¡Œå‹ç¼©å‘é€æ˜¯å¦æºå¸¦ã€Vary:Accept-Encodingã€å¤´åŸŸçš„å“åº”å¤´éƒ¨ã€‚ä¸»è¦æ˜¯å‘Šè¯‰æ¥æ”¶æ–¹ï¼Œæ‰€å‘é€çš„æ•°æ®ç»è¿‡äº† Gzip å‹ç¼©å¤„ç†ã€‚é»˜è®¤å…³é—­</li></ul> <table><thead><tr><th>è¯­æ³•</th> <th>é»˜è®¤å€¼</th> <th>ä½ç½®</th></tr></thead> <tbody><tr><td>gzip_vary &lt;on | off&gt;;</td> <td>gzip_vary off;</td> <td>httpã€serverã€location</td></tr></tbody></table> <p><img src="https://jsdelivr.codeqihan.com//gh/xustudyxu/image-hosting1@master/20220731/image.4bsq0xpu9s20.webp" alt="image"></p> <ul><li><code>gzip_buffers</code> æŒ‡ä»¤æ˜¯ç”¨äºå¤„ç†è¯·æ±‚å‹ç¼©çš„ç¼“å†²åŒºæ•°é‡å’Œå¤§å°</li></ul> <table><thead><tr><th>è¯­æ³•</th> <th>é»˜è®¤å€¼</th> <th>ä½ç½®</th></tr></thead> <tbody><tr><td>gzip_buffers &lt;number&gt; &lt;size&gt;;</td> <td>gzip_buffers 32 4k | 16 8k;</td> <td>httpã€serverã€location</td></tr></tbody></table> <p>å…¶ä¸­ number æ˜¯æŒ‡å®š Nginx æœåŠ¡å™¨å‘ç³»ç»Ÿç”³è¯·ç¼“å­˜ç©ºé—´ä¸ªæ•°ï¼Œsize æŒ‡çš„æ˜¯æ¯ä¸ªç¼“å­˜ç©ºé—´çš„å¤§å°ã€‚ä¸»è¦å®ç°çš„æ˜¯ç”³è¯· number ä¸ªæ¯ä¸ªå¤§å°ä¸º size çš„å†…å­˜ç©ºé—´ã€‚è¿™ä¸ªå€¼çš„è®¾å®šä¸€èˆ¬ä¼šå’ŒæœåŠ¡å™¨çš„æ“ä½œç³»ç»Ÿæœ‰å…³ï¼Œæ‰€ä»¥å»ºè®®æ­¤é¡¹ä¸è®¾ç½®ï¼Œä½¿ç”¨é»˜è®¤å€¼å³å¯ã€‚</p> <div class="language-nginx line-numbers-mode"><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">gzip_buffers</span> <span class="token number">4</span> <span class="token number">16K</span></span><span class="token punctuation">;</span>	  <span class="token comment"># ç¼“å­˜ç©ºé—´å¤§å°</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li><code>gzip_disable</code> æŒ‡ä»¤æ˜¯é’ˆå¯¹ä¸åŒç§ç±»å®¢æˆ·ç«¯å‘èµ·çš„è¯·æ±‚ï¼Œå¯ä»¥é€‰æ‹©æ€§åœ°å¼€å¯å’Œå…³é—­ Gzip åŠŸèƒ½</li></ul> <table><thead><tr><th>è¯­æ³•</th> <th>é»˜è®¤å€¼</th> <th>ä½ç½®</th></tr></thead> <tbody><tr><td>gzip_disable &lt;regex&gt; ...... ;</td> <td>â€”</td> <td>httpã€serverã€location</td></tr></tbody></table> <p>regex æ˜¯æ ¹æ®å®¢æˆ·ç«¯çš„æµè§ˆå™¨æ ‡å¿—(user-agent)æ¥è®¾ç½®ï¼Œæ”¯æŒä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ã€‚æŒ‡å®šçš„æµè§ˆå™¨æ ‡å¿—ä¸ä½¿ç”¨ Gzip.è¯¥æŒ‡ä»¤ä¸€èˆ¬æ˜¯ç”¨æ¥æ’é™¤ä¸€äº›æ˜æ˜¾ä¸æ”¯æŒ Gzip çš„æµè§ˆå™¨ã€‚</p> <div class="language-nginx line-numbers-mode"><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">gzip_disable</span> <span class="token string">&quot;MSIE [1-6]\.&quot;</span></span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><code>gzip_http_version</code> æŒ‡ä»¤æ˜¯é’ˆå¯¹ä¸åŒçš„ HTTP åè®®ç‰ˆæœ¬ï¼Œå¯ä»¥é€‰æ‹©æ€§åœ°å¼€å¯å’Œå…³é—­ Gzip åŠŸèƒ½ã€‚é»˜è®¤æ˜¯ 1.1 ç‰ˆæœ¬</p> <table><thead><tr><th>è¯­æ³•</th> <th>é»˜è®¤å€¼</th> <th>ä½ç½®</th></tr></thead> <tbody><tr><td>gzip_http_version &lt;1.0 | 1.1&gt;;</td> <td>gzip_http_version 1.1;</td> <td>httpã€serverã€location</td></tr></tbody></table> <p>è¯¥æŒ‡ä»¤æ˜¯æŒ‡å®šä½¿ç”¨ Gzip çš„ HTTP æœ€ä½ç‰ˆæœ¬ï¼Œè¯¥æŒ‡ä»¤ä¸€èˆ¬é‡‡ç”¨é»˜è®¤å€¼å³å¯ã€‚</p> <ul><li><code>gzip_min_length</code> æŒ‡ä»¤æ˜¯é’ˆå¯¹ä¼ è¾“æ•°æ®çš„å¤§å°ï¼Œå¯ä»¥é€‰æ‹©æ€§åœ°å¼€å¯å’Œå…³é—­ Gzip åŠŸèƒ½</li></ul> <table><thead><tr><th>è¯­æ³•</th> <th>é»˜è®¤å€¼</th> <th>ä½ç½®</th></tr></thead> <tbody><tr><td>gzip_min_length &lt;length&gt;;</td> <td>gzip_min_length 20;</td> <td>httpã€serverã€location</td></tr></tbody></table> <p>Nignx è®¡é‡å¤§å°çš„å•ä½ï¼šbytes [å­—èŠ‚] / kb [åƒå­—èŠ‚] / M [å…†]</p> <p>ä¾‹å¦‚: 1024 / 10k | K / 10m | M</p> <p>Gzip å‹ç¼©åŠŸèƒ½å¯¹å¤§æ•°æ®çš„å‹ç¼©æ•ˆæœæ˜æ˜¾ï¼Œä½†æ˜¯å¦‚æœè¦å‹ç¼©çš„æ•°æ®æ¯”è¾ƒå°çš„è¯ï¼Œå¯èƒ½å‡ºç°è¶Šå‹ç¼©æ•°æ®é‡è¶Šå¤§çš„æƒ…å†µï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦æ ¹æ®å“åº”å†…å®¹çš„å¤§å°æ¥å†³å®šæ˜¯å¦ä½¿ç”¨ Gzip åŠŸèƒ½ï¼Œå“åº”é¡µé¢çš„å¤§å°å¯ä»¥é€šè¿‡å¤´ä¿¡æ¯ä¸­çš„ <code>Content-Length</code> æ¥è·å–ã€‚ä½†æ˜¯å¦‚ä½•ä½¿ç”¨äº† Chunk ç¼–ç åŠ¨æ€å‹ç¼©ï¼Œè¯¥æŒ‡ä»¤å°†è¢«å¿½ç•¥ã€‚å»ºè®®è®¾ç½®ä¸º 1K æˆ–ä»¥ä¸Šã€‚</p> <ul><li><code>gzip_proxied</code> æŒ‡ä»¤è®¾ç½®æ˜¯å¦å¯¹æœåŠ¡ç«¯è¿”å›çš„ç»“æœè¿›è¡Œ Gzip å‹ç¼©</li></ul> <table><thead><tr><th>è¯­æ³•</th> <th>é»˜è®¤å€¼</th> <th>ä½ç½®</th></tr></thead> <tbody><tr><td>gzip_proxied &lt;off | expired | no-cache | no-store | private | no_last_modified | no_etag | auth | any&gt;;</td> <td>gzip_proxied off;</td> <td>httpã€serverã€location</td></tr></tbody></table> <ul><li>offï¼šå…³é—­ Nginx æœåŠ¡å™¨å¯¹åå°æœåŠ¡å™¨è¿”å›ç»“æœçš„ Gzip å‹ç¼©</li> <li>expiredï¼šå¦‚æœ header å¤´ä¸­åŒ…å« ã€Expiresã€å¤´ä¿¡æ¯ï¼Œå¯ç”¨å‹ç¼©</li> <li>no-cacheï¼šå¦‚æœ header å¤´ä¸­åŒ…å« ã€Cache-Control:no-cacheã€å¤´ä¿¡æ¯ï¼Œå¯ç”¨å‹ç¼©</li> <li>no-storeï¼šå¦‚æœ header å¤´ä¸­åŒ…å« ã€Cache-Control:no-storeã€å¤´ä¿¡æ¯ï¼Œå¯ç”¨å‹ç¼©</li> <li>privateï¼šå¦‚æœ header å¤´ä¸­åŒ…å« ã€Cache-Control:privateã€å¤´ä¿¡æ¯ï¼Œå¯ç”¨å‹ç¼©</li> <li>no_last_modifiedï¼šå¦‚æœ header å¤´ä¸­ä¸åŒ…å« ã€Last-Modifiedã€å¤´ä¿¡æ¯ï¼Œå¯ç”¨å‹ç¼©</li> <li>no_etagï¼šå¦‚æœ header å¤´ä¸­ä¸åŒ…å« ã€ETagã€ å¤´ä¿¡æ¯ï¼Œå¯ç”¨å‹ç¼©</li> <li>authï¼šå¦‚æœ header å¤´ä¸­åŒ…å« ã€Authorizationã€ å¤´ä¿¡æ¯ï¼Œå¯ç”¨å‹ç¼©</li> <li>anyï¼šæ— æ¡ä»¶å¯ç”¨å‹ç¼©</li></ul> <h3 id="gzipå‹ç¼©åŠŸèƒ½é…ç½®æ¨¡æ¿"><a href="#gzipå‹ç¼©åŠŸèƒ½é…ç½®æ¨¡æ¿" class="header-anchor">#</a> Gzipå‹ç¼©åŠŸèƒ½é…ç½®æ¨¡æ¿</h3> <div class="language-nginx line-numbers-mode"><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">gzip</span> <span class="token boolean">on</span></span><span class="token punctuation">;</span>  			   		 <span class="token comment"># å¼€å¯ Gzip åŠŸèƒ½</span>
<span class="token directive"><span class="token keyword">gzip_types</span> *</span><span class="token punctuation">;</span>		   	 	 <span class="token comment"># å‹ç¼©æºæ–‡ä»¶ç±»å‹,æ ¹æ®å…·ä½“çš„è®¿é—®èµ„æºç±»å‹è®¾å®š</span>
<span class="token directive"><span class="token keyword">gzip_comp_level</span> <span class="token number">6</span></span><span class="token punctuation">;</span>	   		 <span class="token comment"># Gzip å‹ç¼©çº§åˆ«</span>
<span class="token directive"><span class="token keyword">gzip_min_length</span> <span class="token number">1k</span></span><span class="token punctuation">;</span>          <span class="token comment"># è¿›è¡Œå‹ç¼©å“åº”é¡µé¢çš„æœ€å°é•¿åº¦ï¼Œcontent-length</span>
<span class="token directive"><span class="token keyword">gzip_buffers</span> <span class="token number">4</span> <span class="token number">16K</span></span><span class="token punctuation">;</span>	         <span class="token comment"># ç¼“å­˜ç©ºé—´å¤§å°</span>
<span class="token directive"><span class="token keyword">gzip_http_version</span> 1.1</span><span class="token punctuation">;</span>       <span class="token comment"># æŒ‡å®šå‹ç¼©å“åº”æ‰€éœ€è¦çš„æœ€ä½ HTTP è¯·æ±‚ç‰ˆæœ¬</span>
<span class="token directive"><span class="token keyword">gzip_vary</span>  <span class="token boolean">on</span></span><span class="token punctuation">;</span>		         <span class="token comment"># å¾€å¤´ä¿¡æ¯ä¸­æ·»åŠ å‹ç¼©æ ‡è¯†</span>
<span class="token directive"><span class="token keyword">gzip_disable</span> <span class="token string">&quot;MSIE [1-6]\.&quot;</span></span><span class="token punctuation">;</span> <span class="token comment"># å¯¹ IE6 ä»¥ä¸‹çš„ç‰ˆæœ¬éƒ½ä¸è¿›è¡Œå‹ç¼©</span>
<span class="token directive"><span class="token keyword">gzip_proxied</span>  <span class="token boolean">off</span></span><span class="token punctuation">;</span>           <span class="token comment"># Nginx ä½œä¸ºåå‘ä»£ç†å‹ç¼©æœåŠ¡ç«¯è¿”å›æ•°æ®çš„æ¡ä»¶</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>è¿™äº›é…ç½®åœ¨å¾ˆå¤šåœ°æ–¹å¯èƒ½éƒ½ä¼šç”¨åˆ°ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å°†è¿™äº›å†…å®¹æŠ½å–åˆ°ä¸€ä¸ªé…ç½®æ–‡ä»¶ä¸­ï¼Œç„¶åé€šè¿‡ include æŒ‡ä»¤æŠŠé…ç½®æ–‡ä»¶å†æ¬¡åŠ è½½åˆ° nginx.conf é…ç½®æ–‡ä»¶ä¸­ï¼Œæ–¹æ³•ä½¿ç”¨ã€‚</p> <p>åˆ›å»ºå‹ç¼©é…ç½®æ–‡ä»¶ï¼š<code>nginx_gzip.conf</code>ï¼Œæ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š</p> <div class="language-nginx line-numbers-mode"><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">gzip</span> <span class="token boolean">on</span></span><span class="token punctuation">;</span>
<span class="token directive"><span class="token keyword">gzip_types</span> *</span><span class="token punctuation">;</span>
<span class="token directive"><span class="token keyword">gzip_comp_level</span> <span class="token number">6</span></span><span class="token punctuation">;</span>
<span class="token directive"><span class="token keyword">gzip_min_length</span> <span class="token number">1k</span></span><span class="token punctuation">;</span>
<span class="token directive"><span class="token keyword">gzip_buffers</span> <span class="token number">4</span> <span class="token number">16K</span></span><span class="token punctuation">;</span>
<span class="token directive"><span class="token keyword">gzip_http_version</span> 1.1</span><span class="token punctuation">;</span>
<span class="token directive"><span class="token keyword">gzip_vary</span>  <span class="token boolean">on</span></span><span class="token punctuation">;</span>
<span class="token directive"><span class="token keyword">gzip_disable</span> <span class="token string">&quot;MSIE [1-6]\.&quot;</span></span><span class="token punctuation">;</span>
<span class="token directive"><span class="token keyword">gzip_proxied</span>  <span class="token boolean">off</span></span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>åœ¨ Nginx æ ¸å¿ƒé…ç½®æ–‡ä»¶ <code>nginx.conf</code> è¿›è¡Œå¼•å…¥ï¼Œæ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š</p> <div class="language-nginx line-numbers-mode"><pre class="language-nginx"><code>include nginx_gzip.conf
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="gzipå’Œsendfileå…±å­˜é—®é¢˜"><a href="#gzipå’Œsendfileå…±å­˜é—®é¢˜" class="header-anchor">#</a> Gzipå’Œsendfileå…±å­˜é—®é¢˜</h3> <p>å‰é¢åœ¨è®²è§£ sendfile çš„æ—¶å€™ï¼Œæåˆ°è¿‡ï¼Œå¼€å¯ sendfile ä»¥åï¼Œåœ¨è¯»å–ç£ç›˜ä¸Šçš„é™æ€èµ„æºæ–‡ä»¶çš„æ—¶å€™ï¼Œå¯ä»¥å‡å°‘æ‹·è´çš„æ¬¡æ•°ï¼Œå¯ä»¥ä¸ç»è¿‡ç”¨æˆ·è¿›ç¨‹å°†é™æ€æ–‡ä»¶é€šè¿‡ç½‘ç»œè®¾å¤‡å‘é€å‡ºå»ï¼Œä½†æ˜¯ Gzip è¦æƒ³å¯¹èµ„æºå‹ç¼©ï¼Œæ˜¯éœ€è¦ç»è¿‡ç”¨æˆ·è¿›ç¨‹è¿›è¡Œæ“ä½œçš„ã€‚æ‰€ä»¥å¦‚ä½•è§£å†³ä¸¤ä¸ªè®¾ç½®çš„å…±å­˜é—®é¢˜ã€‚</p> <p>å¯ä»¥ä½¿ç”¨ <code>ngx_http_gzip_static_module</code> æ¨¡å—çš„ <code>gzip_static</code> æŒ‡ä»¤æ¥è§£å†³ã€‚</p> <h3 id="gzip-staticæŒ‡ä»¤"><a href="#gzip-staticæŒ‡ä»¤" class="header-anchor">#</a> gzip_staticæŒ‡ä»¤</h3> <p><code>gzip_static</code> æŒ‡ä»¤ç”¨äºåœ¨æ£€æŸ¥ä¸è®¿é—®èµ„æºåŒåçš„ .gz æ–‡ä»¶æ—¶ï¼Œresponse ä¸­ä»¥ Gzip ç›¸å…³çš„ header è¿”å› .gz æ–‡ä»¶çš„å†…å®¹ã€‚é»˜è®¤å…³é—­ã€‚</p> <table><thead><tr><th>è¯­æ³•</th> <th>é»˜è®¤å€¼</th> <th>ä½ç½®</th></tr></thead> <tbody><tr><td>gzip_static &lt;on | off | always&gt;;</td> <td>gzip_static off;</td> <td>httpã€serverã€location</td></tr></tbody></table> <div class="language-nginx line-numbers-mode"><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">gzip_static</span> <span class="token boolean">on</span></span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>åœ¨é…ç½®æ–‡ä»¶æ·»åŠ ä¸Šè¿°å‘½ä»¤åï¼Œä¼šæŠ¥ä¸€ä¸ªé”™è¯¯ï¼š<code>unknown directive &quot;gzip_static&quot;</code>ï¼Œä¸»è¦çš„åŸå› æ˜¯ Nginx é»˜è®¤æ˜¯æ²¡æœ‰æ·»åŠ  ngx_http_gzip_static_module æ¨¡å—ã€‚å¦‚ä½•æ¥æ·»åŠ ï¼Ÿ</p> <h3 id="nginxæ¨¡å—æ·»åŠ "><a href="#nginxæ¨¡å—æ·»åŠ " class="header-anchor">#</a> Nginxæ¨¡å—æ·»åŠ </h3> <ol><li>æŸ¥è¯¢å½“å‰ Nginx çš„é…ç½®å‚æ•°ï¼Œå³æŸ¥çœ‹ <code>configure arguments</code> çš„é…ç½®ä¿¡æ¯ï¼Œæ‹·è´å‡ºæ¥</li></ol> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>nginx <span class="token parameter variable">-V</span>
<span class="token comment"># æ‹·è´ configure arguments åé¢çš„æ•°æ®</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language-nginx line-numbers-mode"><pre class="language-nginx"><code>--prefix=/usr/local/nginx
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="2"><li>å°† Nginx å®‰è£…ç›®å½•ä¸‹ sbin ç›®å½•ä¸­çš„ nginx äºŒè¿›åˆ¶æ–‡ä»¶è¿›è¡Œæ›´åå¤‡ä»½</li></ol> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token builtin class-name">cd</span> /usr/local/nginx/sbin
<span class="token function">mv</span> nginx nginx.backup
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ol start="3"><li>è¿›å…¥ Nginx çš„å®‰è£…ç›®å½•</li></ol> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token builtin class-name">cd</span> /root/nginx/core/nginx-1.21.6
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="4"><li>æ‰§è¡Œ make clean æ¸…ç©ºä¹‹å‰ç¼–è¯‘çš„å†…å®¹</li></ol> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">make</span> clean
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="5"><li>ä½¿ç”¨ configure æ¥é…ç½®å‚æ•°ï¼Œæ·»åŠ  <code>ngx_http_gzip_static_module</code> æ¨¡å—ï¼Œè®°å¾—åŠ ä¸Šç¬¬1æ­¥æ‹·è´çš„é…ç½®ä¿¡æ¯</li></ol> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>./configure --with-http_gzip_static_module  <span class="token comment"># è®°å¾—æ·»åŠ  configure arguments åçš„æ•°æ®</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="6"><li>ä½¿ç”¨ make å‘½ä»¤è¿›è¡Œç¼–è¯‘</li></ol> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">make</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="7"><li>å°† objs ç›®å½•ä¸‹çš„ nginx äºŒè¿›åˆ¶æ‰§è¡Œæ–‡ä»¶ç§»åŠ¨åˆ° nginx å®‰è£…ç›®å½•ä¸‹çš„ sbin ç›®å½•ä¸­</li></ol> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">mv</span> /opt/nginx/core/nginx-1.21.6/objs/nginx /usr/local/nginx/sbin
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>å¦‚æœä¸æ‰§è¡Œç¬¬ï¼ˆ2ï¼‰æ­¥è¿›è¡Œå¤‡ä»½ï¼Œåˆ™è¯¥æ­¥éª¤ä¼šè¦†ç›–åŸæ¥çš„ nginx å¯æ‰§è¡Œæ–‡ä»¶</p> <ol start="8"><li>åœ¨æºç ç›®å½•ä¸‹æ‰§è¡Œæ›´æ–°å‘½ä»¤</li></ol> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token builtin class-name">cd</span> /opt/nginx/core/nginx-1.21.6
<span class="token function">make</span> upgrade
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="gzip-staticæµ‹è¯•"><a href="#gzip-staticæµ‹è¯•" class="header-anchor">#</a> gzip_staticæµ‹è¯•</h3> <p>å‡†å¤‡å¥½ä¸€ä¸ª jquery.js æ–‡ä»¶ï¼Œæ”¾åœ¨ html ç›®å½•ä¸‹</p> <p><img src="https://jsdelivr.codeqihan.com//gh/xustudyxu/image-hosting1@master/20220731/image.576ef03x00c0.webp" alt="image"></p> <ol><li>ç›´æ¥è®¿é—® <code>http://192.168.91.200/jquery.js</code></li></ol> <p><img src="https://jsdelivr.codeqihan.com//gh/xustudyxu/image-hosting1@master/20220731/image.2b8dhabn0cbo.webp" alt="image"></p> <ol start="2"><li>ä½¿ç”¨ Gzip å‘½ä»¤è¿›è¡Œå‹ç¼©</li></ol> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># è¿›å…¥ html ç›®å½•</span>
<span class="token builtin class-name">cd</span> /usr/local/nginx/html
<span class="token comment"># å‹ç¼© js æ–‡ä»¶</span>
<span class="token function">gzip</span> jquery.js
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ol start="3"><li>å†æ¬¡è®¿é—® <code>http://192.168.91.200/jquery.js</code></li></ol> <p><img src="https://jsdelivr.codeqihan.com//gh/xustudyxu/image-hosting1@master/20220731/image.4ivj1d091pg.webp" alt="image"></p> <p>å¯ä»¥çœ‹å‡º <code>Content-Length</code> çš„å¤§å°å·²ç»å˜å¾—éå¸¸å°ã€‚</p> <h2 id="é™æ€èµ„æºç¼“å­˜é…ç½®"><a href="#é™æ€èµ„æºç¼“å­˜é…ç½®" class="header-anchor">#</a> é™æ€èµ„æºç¼“å­˜é…ç½®</h2> <p>å½“æµè§ˆå™¨è¯·æ±‚ Nginx æœåŠ¡å™¨çš„èµ„æºåï¼Œæˆ‘ä»¬å¯ä»¥è®©è¿™äº›èµ„æºç¼“å­˜åœ¨æµè§ˆå™¨é‡Œï¼Œè¿™æ ·å†ä¸€æ¬¡è¯·æ±‚ç›¸åŒçš„èµ„æºæ—¶ï¼Œæ— éœ€è¯·æ±‚ Nginx æœåŠ¡å™¨ï¼Œç›´æ¥ä»æµè§ˆå™¨çš„ç¼“å­˜é‡Œè·å–ï¼Œå‡å°‘ Nginx æœåŠ¡å™¨çš„å‹åŠ›ã€‚</p> <h3 id="ä»€ä¹ˆæ˜¯ç¼“å­˜å’Œwebç¼“å­˜"><a href="#ä»€ä¹ˆæ˜¯ç¼“å­˜å’Œwebç¼“å­˜" class="header-anchor">#</a> ä»€ä¹ˆæ˜¯ç¼“å­˜å’ŒWebç¼“å­˜</h3> <p>ç¼“å­˜ï¼ˆcacheï¼‰ï¼ŒåŸå§‹æ„ä¹‰æ˜¯æŒ‡è®¿é—®é€Ÿåº¦æ¯”ä¸€èˆ¬éšæœºå­˜å–å­˜å‚¨å™¨ï¼ˆRAMï¼‰å¿«çš„ä¸€ç§é«˜é€Ÿå­˜å‚¨å™¨ï¼Œé€šå¸¸å®ƒä¸åƒç³»ç»Ÿä¸»å­˜é‚£æ ·ä½¿ç”¨ DRAM æŠ€æœ¯ï¼Œè€Œä½¿ç”¨æ˜‚è´µä½†è¾ƒå¿«é€Ÿçš„ SRAM æŠ€æœ¯ã€‚ç¼“å­˜çš„è®¾ç½®æ˜¯æ‰€æœ‰ç°ä»£è®¡ç®—æœºç³»ç»Ÿå‘æŒ¥é«˜æ€§èƒ½çš„é‡è¦å› ç´ ä¹‹ä¸€ã€‚</p> <p>Web ç¼“å­˜æ˜¯æŒ‡ä¸€ä¸ª Web èµ„æºï¼ˆå¦‚ html é¡µé¢ï¼Œå›¾ç‰‡ï¼Œjsï¼Œæ•°æ®ç­‰ï¼‰å­˜åœ¨äº Web æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯ï¼ˆæµè§ˆå™¨ï¼‰ä¹‹é—´çš„å‰¯æœ¬ã€‚ç¼“å­˜ä¼šæ ¹æ®è¿›æ¥çš„è¯·æ±‚ä¿å­˜è¾“å‡ºå†…å®¹çš„å‰¯æœ¬ï¼›å½“ä¸‹ä¸€ä¸ªè¯·æ±‚æ¥åˆ°çš„æ—¶å€™ï¼Œå¦‚æœæ˜¯ç›¸åŒçš„ URLï¼Œç¼“å­˜ä¼šæ ¹æ®ç¼“å­˜æœºåˆ¶å†³å®šæ˜¯ç›´æ¥ä½¿ç”¨å‰¯æœ¬å“åº”è®¿é—®è¯·æ±‚ï¼Œè¿˜æ˜¯å‘æºæœåŠ¡å™¨å†æ¬¡å‘é€è¯·æ±‚ã€‚æ¯”è¾ƒå¸¸è§çš„å°±æ˜¯æµè§ˆå™¨ä¼šç¼“å­˜è®¿é—®è¿‡ç½‘ç«™çš„ç½‘é¡µï¼Œå½“å†æ¬¡è®¿é—®è¿™ä¸ª URL åœ°å€çš„æ—¶å€™ï¼Œå¦‚æœç½‘é¡µæ²¡æœ‰æ›´æ–°ï¼Œå°±ä¸ä¼šå†æ¬¡ä¸‹è½½ç½‘é¡µï¼Œè€Œæ˜¯ç›´æ¥ä½¿ç”¨æœ¬åœ°ç¼“å­˜çš„ç½‘é¡µã€‚åªæœ‰å½“ç½‘ç«™æ˜ç¡®æ ‡è¯†èµ„æºå·²ç»æ›´æ–°ï¼Œæµè§ˆå™¨æ‰ä¼šå†æ¬¡ä¸‹è½½ç½‘é¡µã€‚</p> <h3 id="webç¼“å­˜çš„ç§ç±»"><a href="#webç¼“å­˜çš„ç§ç±»" class="header-anchor">#</a> Webç¼“å­˜çš„ç§ç±»</h3> <p>å®¢æˆ·ç«¯ç¼“å­˜</p> <ul><li>æµè§ˆå™¨ç¼“å­˜</li></ul> <p>æœåŠ¡ç«¯ç¼“å­˜</p> <ul><li>Nginx</li> <li>Redis</li> <li>Memcached ç­‰</li></ul> <h3 id="ä¸ºä»€ä¹ˆè¦ç”¨æµè§ˆå™¨ç¼“å­˜"><a href="#ä¸ºä»€ä¹ˆè¦ç”¨æµè§ˆå™¨ç¼“å­˜" class="header-anchor">#</a> ä¸ºä»€ä¹ˆè¦ç”¨æµè§ˆå™¨ç¼“å­˜</h3> <ul><li>æˆæœ¬æœ€ä½çš„ä¸€ç§ç¼“å­˜å®ç°</li> <li>å‡å°‘ç½‘ç»œå¸¦å®½æ¶ˆè€—</li> <li>é™ä½æœåŠ¡å™¨å‹åŠ›</li> <li>å‡å°‘ç½‘ç»œå»¶è¿Ÿï¼ŒåŠ å¿«é¡µé¢æ‰“å¼€é€Ÿåº¦</li></ul> <h3 id="æµè§ˆå™¨ç¼“å­˜æ‰§è¡Œæµç¨‹"><a href="#æµè§ˆå™¨ç¼“å­˜æ‰§è¡Œæµç¨‹" class="header-anchor">#</a> æµè§ˆå™¨ç¼“å­˜æ‰§è¡Œæµç¨‹</h3> <p>HTTP åè®®ä¸­å’Œé¡µé¢ç¼“å­˜ç›¸å…³çš„å­—æ®µï¼Œæˆ‘ä»¬å…ˆæ¥è®¤è¯†ä¸‹ï¼š</p> <table><thead><tr><th>header</th> <th>è¯´æ˜</th></tr></thead> <tbody><tr><td>Expires</td> <td>ç¼“å­˜è¿‡æœŸçš„æ—¥æœŸå’Œæ—¶é—´</td></tr> <tr><td>Cache-Control</td> <td>è®¾ç½®å’Œç¼“å­˜ç›¸å…³çš„é…ç½®ä¿¡æ¯</td></tr> <tr><td>Last-Modified</td> <td>è¯·æ±‚èµ„æºæœ€åä¿®æ”¹æ—¶é—´</td></tr> <tr><td>ETag</td> <td>è¯·æ±‚å˜é‡çš„å®ä½“æ ‡ç­¾çš„å½“å‰å€¼ï¼Œæ¯”å¦‚æ–‡ä»¶çš„ MD5 å€¼</td></tr></tbody></table> <p><img src="https://jsdelivr.codeqihan.com//gh/xustudyxu/image-hosting1@master/20220731/image.209c4krjzgf4.webp" alt="image"></p> <ol><li>ç”¨æˆ·é¦–æ¬¡é€šè¿‡æµè§ˆå™¨å‘é€è¯·æ±‚åˆ°æœåŠ¡ç«¯è·å–æ•°æ®ï¼Œå®¢æˆ·ç«¯æ˜¯æ²¡æœ‰å¯¹åº”çš„ç¼“å­˜ï¼Œæ‰€ä»¥éœ€è¦å‘é€ request è¯·æ±‚æ¥è·å–æ•°æ®ï¼›</li> <li>æœåŠ¡ç«¯æ¥æ”¶åˆ°è¯·æ±‚åï¼Œè·å–æœåŠ¡ç«¯çš„æ•°æ®åŠæœåŠ¡ç«¯ç¼“å­˜çš„å…è®¸åï¼Œè¿”å› 200 çš„æˆåŠŸçŠ¶æ€ç å¹¶ä¸”åœ¨å“åº”å¤´ä¸Šé™„ä¸Šå¯¹åº”èµ„æºä»¥åŠç¼“å­˜ä¿¡æ¯ï¼›</li> <li>å½“ç”¨æˆ·å†æ¬¡è®¿é—®ç›¸åŒèµ„æºçš„æ—¶å€™ï¼Œå®¢æˆ·ç«¯ä¼šåœ¨æµè§ˆå™¨çš„ç¼“å­˜ç›®å½•ä¸­æŸ¥æ‰¾æ˜¯å¦å­˜åœ¨å“åº”çš„ç¼“å­˜æ–‡ä»¶ï¼›</li> <li>å¦‚æœæ²¡æœ‰æ‰¾åˆ°å¯¹åº”çš„ç¼“å­˜æ–‡ä»¶ï¼Œåˆ™èµ°ç¬¬2æ­¥ï¼›</li> <li>å¦‚æœæœ‰ç¼“å­˜æ–‡ä»¶ï¼Œæ¥ä¸‹æ¥å¯¹ç¼“å­˜æ–‡ä»¶æ˜¯å¦è¿‡æœŸè¿›è¡Œåˆ¤æ–­ï¼Œè¿‡æœŸçš„åˆ¤æ–­æ ‡å‡†æ˜¯(Expires)ï¼›</li> <li>å¦‚æœæ²¡æœ‰è¿‡æœŸï¼Œåˆ™ç›´æ¥ä»æœ¬åœ°ç¼“å­˜ä¸­è¿”å›æ•°æ®è¿›è¡Œå±•ç¤ºï¼›</li> <li>å¦‚æœ Expires è¿‡æœŸï¼Œæ¥ä¸‹æ¥éœ€è¦åˆ¤æ–­ç¼“å­˜æ–‡ä»¶æ˜¯å¦å‘ç”Ÿè¿‡å˜åŒ–ï¼›</li> <li>åˆ¤æ–­çš„æ ‡å‡†æœ‰ä¸¤ä¸ªï¼Œä¸€ä¸ªæ˜¯ ETag(Entity Tag)ï¼Œä¸€ä¸ªæ˜¯ Last-Modifiedï¼›</li> <li>åˆ¤æ–­ç»“æœæ˜¯æœªå‘ç”Ÿå˜åŒ–ï¼Œåˆ™æœåŠ¡ç«¯è¿”å› 304ï¼Œç›´æ¥ä»ç¼“å­˜æ–‡ä»¶ä¸­è·å–æ•°æ®ï¼›</li> <li>å¦‚æœåˆ¤æ–­æ˜¯å‘ç”Ÿäº†å˜åŒ–ï¼Œé‡æ–°ä»æœåŠ¡ç«¯è·å–æ•°æ®ï¼Œå¹¶æ ¹æ®ç¼“å­˜åå•†(æœåŠ¡ç«¯æ‰€è®¾ç½®çš„æ˜¯å¦éœ€è¦è¿›è¡Œç¼“å­˜æ•°æ®çš„è®¾ç½®)æ¥è¿›è¡Œæ•°æ®ç¼“å­˜ã€‚</li></ol> <h3 id="æµè§ˆå™¨ç¼“å­˜ç›¸å…³æŒ‡ä»¤"><a href="#æµè§ˆå™¨ç¼“å­˜ç›¸å…³æŒ‡ä»¤" class="header-anchor">#</a> æµè§ˆå™¨ç¼“å­˜ç›¸å…³æŒ‡ä»¤</h3> <p>Nginx éœ€è¦è¿›è¡Œç¼“å­˜ç›¸å…³è®¾ç½®ï¼Œå°±éœ€è¦ç”¨åˆ°å¦‚ä¸‹çš„æŒ‡ä»¤ã€‚</p> <h4 id="expiresæŒ‡ä»¤"><a href="#expiresæŒ‡ä»¤" class="header-anchor">#</a> expiresæŒ‡ä»¤</h4> <p>è¯¥æŒ‡ä»¤ç”¨æ¥æ§åˆ¶é¡µé¢ç¼“å­˜çš„ä½œç”¨ã€‚å¯ä»¥é€šè¿‡è¯¥æŒ‡ä»¤æ§åˆ¶ HTTP åº”ç­”ä¸­çš„ã€Expiresã€å’Œã€Cache-Controlã€</p> <table><thead><tr><th>è¯­æ³•</th> <th>é»˜è®¤å€¼</th> <th>ä½ç½®</th></tr></thead> <tbody><tr><td>expires [modified] &lt;time&gt;; expires &lt;epoch | max | off&gt;;</td> <td>expires off;</td> <td>httpã€serverã€location</td></tr></tbody></table> <ul><li><p>timeï¼šå¯ä»¥æ•´æ•°ä¹Ÿå¯ä»¥æ˜¯è´Ÿæ•°ï¼ŒæŒ‡å®šè¿‡æœŸæ—¶é—´ï¼Œå•ä½ä¸º sï¼ˆç§’ï¼‰ã€‚å¦‚æœæ˜¯è´Ÿæ•°ï¼ŒCache-Control åˆ™ä¸º no-cacheï¼Œå¦‚æœä¸ºæ•´æ•°æˆ– 0ï¼Œåˆ™ Cache-Control çš„å€¼ä¸º max-age=time</p></li> <li><p>epochï¼šæŒ‡å®š Expires çš„å€¼ä¸ºã€'1 January,1970,00:00:01 GMT'ã€ï¼Œå³ 1970-01-01 00:00:00 ï¼ŒCache-Control çš„å€¼ no-cache</p> <p>å› ä¸º Expiresï¼ˆç¼“å­˜è¿‡æœŸæ—¶é—´ï¼‰æ˜¯ 1970 å¹´ï¼Œæ‰€ä»¥ä¸ç¼“å­˜ã€‚</p></li> <li><p>maxï¼šæŒ‡å®š Expires çš„å€¼ä¸ºã€'31 December2037 23:59:59GMT' ã€ï¼Œå³(2037-12-31 23:59:59ï¼ŒCache-Control çš„å€¼ä¸º 10 å¹´</p> <p>å› ä¸º Expiresï¼ˆç¼“å­˜è¿‡æœŸæ—¶é—´ï¼‰æ˜¯ 2037 å¹´ï¼Œè™½ç„¶è¿˜æœ‰ 16 å¹´è¿‡æœŸï¼Œä½†æ˜¯æœ€å¤§åªèƒ½ç¼“å­˜ 10 å¹´ã€‚</p></li> <li><p>offï¼šé»˜è®¤ä¸ç¼“å­˜</p></li></ul> <blockquote><p><strong>ä¾‹å­ 1</strong></p></blockquote> <p>åœ¨é…ç½®æ–‡ä»¶æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š</p> <div class="language-nginx line-numbers-mode"><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">location</span> ~ .*\.(html|js|css|png|jpg|jpeg|gif)$</span> <span class="token punctuation">{</span>
    <span class="token comment"># ...</span>
    expires max
    <span class="token comment"># ...</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>å‘é€è¯·æ±‚ï¼š<code>http://192.168.91.200/jquery.js</code></p> <p>æŸ¥çœ‹å¼€å‘è€…å·¥å…·(F12)çš„ NetWorkï¼Œå¦‚å›¾ï¼š</p> <p><img src="https://jsdelivr.codeqihan.com//gh/xustudyxu/image-hosting1@master/20220731/image.4x3yczk58lk0.webp" alt="image"></p> <p>315360000 æŠ˜ç®—ä¸‹æ¥æ­£å¥½æ˜¯ 10 å¹´ã€‚</p> <blockquote><p><strong>å…¶ä»–æ ¼å¼</strong></p></blockquote> <div class="language-nginx line-numbers-mode"><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">expires</span> <span class="token number">30s</span></span><span class="token punctuation">;</span>  <span class="token comment"># è¡¨ç¤ºæŠŠæ•°æ®ç¼“å­˜ 30 ç§’</span>
<span class="token directive"><span class="token keyword">expires</span> <span class="token number">30m</span></span><span class="token punctuation">;</span>  <span class="token comment"># è¡¨ç¤ºæŠŠæ•°æ®ç¼“å­˜ 30 åˆ†</span>
<span class="token directive"><span class="token keyword">expires</span> <span class="token number">10h</span></span><span class="token punctuation">;</span>  <span class="token comment"># è¡¨ç¤ºæŠŠæ•°æ®ç¼“å­˜ 10 å°æ—¶</span>
<span class="token directive"><span class="token keyword">expires</span> <span class="token number">1d</span></span><span class="token punctuation">;</span>   <span class="token comment"># è¡¨ç¤ºæŠŠæ•°æ®ç¼“å­˜ 1 å¤©</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h4 id="add-headeræŒ‡ä»¤"><a href="#add-headeræŒ‡ä»¤" class="header-anchor">#</a> add_headeræŒ‡ä»¤</h4> <p>add_header æŒ‡ä»¤æ˜¯ç”¨æ¥æ·»åŠ æŒ‡å®šçš„å“åº”å¤´å’Œå“åº”å€¼ã€‚</p> <p>add_header æ˜¯å“åº”ä½“çš„æŒ‡ä»¤ï¼Œä¸æ˜¯è¯·æ±‚æ—¶çš„æŒ‡ä»¤ï¼ˆæ¯”å¦‚ expires ï¼‰ï¼Œå¹¶ä¸” add_header ä¹Ÿæœ‰å’Œ expires ä¸€æ ·çš„åŠŸèƒ½ã€‚</p> <p>å¦‚æœ expires å’Œ add_header åŒæ—¶å¼€å¯çš„æƒ…å†µä¸‹ï¼Œåˆ™ add_header ä¼˜äº expires ç”Ÿæ•ˆã€‚</p> <table><thead><tr><th>è¯­æ³•</th> <th>é»˜è®¤å€¼</th> <th>ä½ç½®</th></tr></thead> <tbody><tr><td>add_header &lt;name&gt; &lt;value&gt; [always];</td> <td>â€”</td> <td>location &gt; server &gt; http &gt; ......</td></tr></tbody></table> <p>always å¯é€‰ï¼Œä»£è¡¨æ€»æ˜¯æ·»åŠ ã€‚</p> <p>Cache-Control ä½œä¸ºå“åº”å¤´ä¿¡æ¯ï¼Œå¯ä»¥åœ¨ Nginx é…ç½®æ–‡ä»¶è®¾ç½®å¦‚ä¸‹ç¼“å­˜å“åº”æŒ‡ä»¤ï¼š</p> <div class="language-nginx line-numbers-mode"><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">add_header</span> Cache-control must-revalidate</span><span class="token punctuation">;</span>
<span class="token directive"><span class="token keyword">add_header</span> Cache-control no-cache</span><span class="token punctuation">;</span>
<span class="token directive"><span class="token keyword">add_header</span> Cache-control no-store</span><span class="token punctuation">;</span>
<span class="token directive"><span class="token keyword">add_header</span> Cache-control no-transform</span><span class="token punctuation">;</span>
<span class="token directive"><span class="token keyword">add_header</span> Cache-control public</span><span class="token punctuation">;</span>
<span class="token directive"><span class="token keyword">add_header</span> Cache-control private</span><span class="token punctuation">;</span>
<span class="token directive"><span class="token keyword">add_header</span> Cache-control proxy-revalidate</span><span class="token punctuation">;</span>
<span class="token directive"><span class="token keyword">add_header</span> Cache-Control max-age=&lt;seconds&gt;</span><span class="token punctuation">;</span>  <span class="token comment"># ç§’</span>
<span class="token directive"><span class="token keyword">add_header</span> Cache-control s-maxage=&lt;seconds&gt;</span><span class="token punctuation">;</span> <span class="token comment"># ç§’</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>æè¿°ï¼š</p> <table><thead><tr><th>æŒ‡ä»¤</th> <th>è¯´æ˜</th></tr></thead> <tbody><tr><td>must-revalidate</td> <td>å¯ç¼“å­˜ä½†å¿…é¡»å†å‘æºæœåŠ¡å™¨è¿›è¡Œç¡®è®¤</td></tr> <tr><td>no-cache</td> <td>æ•°æ®å†…å®¹ä¸èƒ½è¢«ç¼“å­˜ï¼Œæ¯æ¬¡è¯·æ±‚éƒ½é‡æ–°è®¿é—®æœåŠ¡å™¨ï¼Œè‹¥æœ‰ max-ageï¼Œåˆ™ç¼“å­˜æœŸé—´ä¸è®¿é—®æœåŠ¡å™¨</td></tr> <tr><td>no-store</td> <td>ä¸ç¼“å­˜è¯·æ±‚æˆ–å“åº”çš„ä»»ä½•å†…å®¹ï¼Œæš‚å­˜ä¹Ÿä¸å¯ä»¥(ä¸´æ—¶æ–‡ä»¶å¤¹ä¸­ä¸èƒ½æš‚å­˜è¯¥èµ„æº)</td></tr> <tr><td>no-transform</td> <td>ä»£ç†ä¸å¯æ›´æ”¹åª’ä½“ç±»å‹</td></tr> <tr><td>public</td> <td>å¯ä»¥è¢«ä»»ä½•ç¼“å­˜åŒºç¼“å­˜ï¼Œå¦‚: æµè§ˆå™¨ã€æœåŠ¡å™¨ã€ä»£ç†æœåŠ¡å™¨ç­‰</td></tr> <tr><td>privateï¼ˆé»˜è®¤ï¼‰</td> <td>åªèƒ½åœ¨æµè§ˆå™¨ä¸­ç¼“å­˜ï¼Œåªæœ‰åœ¨ç¬¬ä¸€æ¬¡è¯·æ±‚çš„æ—¶å€™æ‰è®¿é—®æœåŠ¡å™¨ï¼Œè‹¥æœ‰ max-ageï¼Œåˆ™ç¼“å­˜æœŸé—´ä¸è®¿é—®æœåŠ¡å™¨</td></tr> <tr><td>proxy-revalidate</td> <td>è¦æ±‚ä¸­é—´ç¼“å­˜æœåŠ¡å™¨å¯¹ç¼“å­˜çš„å“åº”æœ‰æ•ˆæ€§å†è¿›è¡Œç¡®è®¤</td></tr> <tr><td>max-age=&lt;ç§’&gt;</td> <td>è¿‡æœŸæ—¶é—´ï¼Œå³ä»¥ç§’ä¸ºå•ä½çš„ç¼“å­˜æ—¶é—´</td></tr> <tr><td>s-maxage=&lt;ç§’&gt;</td> <td>å…¬å…±ç¼“å­˜æœåŠ¡å™¨å“åº”çš„æœ€å¤§ Age å€¼</td></tr></tbody></table> <p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼š</p> <ul><li>è®¾ç½®äº† no-cache æˆ–è€… private åï¼Œæ‰“å¼€æ–°çª—å£æ—¶ä¼šé‡æ–°è®¿é—®æœåŠ¡å™¨ã€‚è‹¥è®¾ç½® max-ageï¼Œåˆ™ç¼“å­˜æœŸé—´ä¸è®¿é—®æœåŠ¡å™¨</li> <li>è®¾ç½® private å’Œæ­£æ•°çš„ max-age æ—¶ï¼Œåé€€æ—¶å€™ä¸ä¼šè®¿é—®æœåŠ¡å™¨</li> <li>è®¾ç½® no-cache å’Œæ­£æ•°çš„ max-age æ—¶ï¼Œåé€€æ—¶ä¼šè®¿é—®æœåŠ¡å™¨</li></ul> <h3 id="nginxæœåŠ¡ç«¯ç¼“å­˜"><a href="#nginxæœåŠ¡ç«¯ç¼“å­˜" class="header-anchor">#</a> NginxæœåŠ¡ç«¯ç¼“å­˜</h3> <p>åœ¨ Web ç¼“å­˜çš„ç§ç±»ï¼Œæˆ‘ä»¬æåˆ°äº† Ngixn æœåŠ¡ç«¯ç¼“å­˜ï¼Œè€Œä¸Šé¢ä»…ä»…ä»‹ç»äº†åœ¨æµè§ˆå™¨è¿›è¡Œç¼“å­˜ï¼Œè€Œå› ä¸º Ngixn æœåŠ¡ç«¯ç¼“å­˜çš„å†…å®¹æ¯”è¾ƒå¤šï¼Œæ‰€ä»¥å‰å¾€ <a href="">Nginx - ç¼“å­˜é›†æˆ</a> è¿›è¡Œå­¦ä¹ ã€‚</p></div></div> <!----> <div class="page-edit"><div class="edit-link"><a href="https://github.com/xustudyxu/xustudyxu.github.io/edit/master/docs/studynotes/middleware/Nginx/Nginx_Static_resource_deployment.md" target="_blank" rel="noopener noreferrer">å¸®åŠ©æˆ‘æ”¹å–„æ­¤é¡µé¢</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="tags"><a href="/tags/?tag=Nginx" title="æ ‡ç­¾">#Nginx</a></div> <div class="last-updated"><span class="prefix">ä¸Šæ¬¡æ›´æ–°:</span> <span class="time">2025å¹´5æœˆ18æ—¥</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/middleware/Nginx/Nginx_Basic_case_configuration/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">Nginx åŸºç¡€é…ç½®å®ä¾‹</div></a> <a href="/middleware/Nginx/NginxStatic_resource_access/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">Nginx é™æ€èµ„æºè®¿é—®</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        â†
        <a href="/middleware/Nginx/Nginx_Basic_case_configuration/" class="prev">Nginx åŸºç¡€é…ç½®å®ä¾‹</a></span> <span class="next"><a href="/middleware/Nginx/NginxStatic_resource_access/">Nginx é™æ€èµ„æºè®¿é—®</a>â†’
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">æœ€è¿‘æ›´æ–°</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/c538d4/"><div>
            ç»“æ„å‹æ¨¡å¼
            <!----></div></a> <span class="date">03-21</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/9f3d5d/"><div>
            åˆ›å»ºè€…æ¨¡å¼
            <!----></div></a> <span class="date">01-20</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/57297b/"><div>
            è®¾è®¡æ¨¡å¼å…¥é—¨
            <!----></div></a> <span class="date">12-30</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">æ›´å¤šæ–‡ç« &gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:1812903531@qq.com" title="å‘é‚®ä»¶" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/xustudyxu" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://frxcat.fun/img/wx.png" title="å¾®ä¿¡" target="_blank" class="iconfont icon-weixin"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="æœ¬ç«™ä¸»é¢˜">Vdoing</a> 
    | Copyright Â© 2021-2025
    <span>xustudyxu |<a href="https://beian.miit.gov.cn" target="_blank">è±«ICPå¤‡2022008983å·</a><br>	<img src="http://www.beian.gov.cn/img/new/gongan.png" border="0" /></a>	 		<a target="_blank" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=41018302000331" style="display:inline-block;text-decoration:none;height:20px;line-height:20px;"><img src="" style="float:left;"/><p style="float:left;height:20px;line-height:20px;margin: 0px 0px 0px 5px;">è±«å…¬ç½‘å®‰å¤‡ 41018302000331å·</p></a></span></div> <div class="buttons"><div title="è¿”å›é¡¶éƒ¨" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="å»è¯„è®º" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="ä¸»é¢˜æ¨¡å¼" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          è·Ÿéšç³»ç»Ÿ
        </li><li class="iconfont icon-rijianmoshi">
          æµ…è‰²æ¨¡å¼
        </li><li class="iconfont icon-yejianmoshi">
          æ·±è‰²æ¨¡å¼
        </li><li class="iconfont icon-yuedu">
          é˜…è¯»æ¨¡å¼
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"><div></div><div></div><div id="tcomment"></div><!----></div></div>
    <script src="/assets/js/app.4955f045.js" defer></script><script src="/assets/js/3.d7147f30.js" defer></script><script src="/assets/js/2.06384a8f.js" defer></script><script src="/assets/js/313.61965c0b.js" defer></script><script src="/assets/js/21.56563fe6.js" defer></script><script src="/assets/js/44.b2c4405b.js" defer></script><script src="/assets/js/26.0926361f.js" defer></script><script src="/assets/js/27.983951e8.js" defer></script>
  </body>
</html>
