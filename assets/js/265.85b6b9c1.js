(window.webpackJsonp=window.webpackJsonp||[]).push([[265],{611:function(s,t,a){"use strict";a.r(t);var n=a(10),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"mysql-视图与管理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mysql-视图与管理"}},[s._v("#")]),s._v(" MySQL 视图与管理")]),s._v(" "),t("p"),t("div",{staticClass:"table-of-contents"},[t("ul",[t("li",[t("a",{attrs:{href:"#视图-view"}},[s._v("视图(view)")]),t("ul",[t("li",[t("a",{attrs:{href:"#看需求"}},[s._v("看需求")])]),t("li",[t("a",{attrs:{href:"#基本概念"}},[s._v("基本概念")])]),t("li",[t("a",{attrs:{href:"#视图的基本使用"}},[s._v("视图的基本使用")])]),t("li",[t("a",{attrs:{href:"#视图细节讨论"}},[s._v("视图细节讨论")])]),t("li",[t("a",{attrs:{href:"#视图最佳实践"}},[s._v("视图最佳实践")])]),t("li",[t("a",{attrs:{href:"#视图课堂练习"}},[s._v("视图课堂练习")])])])]),t("li",[t("a",{attrs:{href:"#mysql管理"}},[s._v("Mysql管理")]),t("ul",[t("li",[t("a",{attrs:{href:"#mysql-用户"}},[s._v("Mysql 用户")])]),t("li",[t("a",{attrs:{href:"#创建用户"}},[s._v("创建用户")])]),t("li",[t("a",{attrs:{href:"#删除用户"}},[s._v("删除用户")])]),t("li",[t("a",{attrs:{href:"#用户修改密码"}},[s._v("用户修改密码")])]),t("li",[t("a",{attrs:{href:"#mysql中的权限"}},[s._v("mysql中的权限")])]),t("li",[t("a",{attrs:{href:"#给用户授权"}},[s._v("给用户授权")])]),t("li",[t("a",{attrs:{href:"#回收用户权限"}},[s._v("回收用户权限")])]),t("li",[t("a",{attrs:{href:"#权限生效指令"}},[s._v("权限生效指令")])]),t("li",[t("a",{attrs:{href:"#课堂练习题"}},[s._v("课堂练习题")])]),t("li",[t("a",{attrs:{href:"#细节说明"}},[s._v("细节说明")])])])])])]),t("p"),s._v(" "),t("h2",{attrs:{id:"视图-view"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#视图-view"}},[s._v("#")]),s._v(" 视图(view)")]),s._v(" "),t("h3",{attrs:{id:"看需求"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#看需求"}},[s._v("#")]),s._v(" 看需求")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://jsdelivr.codeqihan.com//gh/xustudyxu/image-hosting@master/studynotes/MySQL/images/63.png",alt:"04"}})]),s._v(" "),t("h3",{attrs:{id:"基本概念"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#基本概念"}},[s._v("#")]),s._v(" 基本概念")]),s._v(" "),t("ol",[t("li",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("视图是一个虚拟表，其内容由查询定义。同真实的表一样，视图包含列,其数据来自对应的真实表(基表)")])],1),s._v(" "),t("li",[s._v("视图和基表关系的示意图")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://jsdelivr.codeqihan.com//gh/xustudyxu/image-hosting@master/studynotes/MySQL/images/64.png",alt:"04"}})]),s._v(" "),t("h3",{attrs:{id:"视图的基本使用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#视图的基本使用"}},[s._v("#")]),s._v(" 视图的基本使用")]),s._v(" "),t("ol",[t("li",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("create view视图名as select语句")])],1),s._v(" "),t("li",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("alter view视图名as select语句   --更新成新的视图")])],1),s._v(" "),t("li",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("SHOW CREATE VIEW 视图名")])],1),s._v(" "),t("li",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("drop view视图名1,视图名2")])],1)]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 视图的使用")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 创建一个视图 emp_view01,只能查询emp表的(emp、ename、job和deptno)信息")]),s._v("\n\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 创建视图")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VIEW")]),s._v(" emp_view01\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" empno"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("ename"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("job"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("deptno "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" emp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\t\n\t\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 查看视图")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DESC")]),s._v(" emp_view01\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" emp_view01\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" empno"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("job "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" emp_view01"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 查看创建视图的指令")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SHOW")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VIEW")]),s._v(" emp_view01\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 删除视图")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DROP")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VIEW")]),s._v(" emp_view01\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br")])]),t("h3",{attrs:{id:"视图细节讨论"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#视图细节讨论"}},[s._v("#")]),s._v(" 视图细节讨论")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://jsdelivr.codeqihan.com//gh/xustudyxu/image-hosting@master/studynotes/MySQL/images/65.png",alt:"04"}})]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 视图的细节")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 1.创建视图后，到数据库去看，对应视图只有一个视图结构文件(形式:视图名.frm)")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 2.视图的数据变化会影响到基表，基表的数据变化也会影响到视图[insert update delete ]")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 修改视图")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UPDATE")]),s._v(" emp_view01 \n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" job"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'manager'")]),s._v(" \n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" empno"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7369")]),s._v("\n\t\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" emp\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" emp_view01\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 修改基本表，会影响到视图")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UPDATE")]),s._v("  emp\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" job"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'SALESMAN'")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" empno"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7369")]),s._v("\n\t\n\t\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 3.视图中可以使用视图，比如emp_view 01视图中，选出empno,和ename 作出新视图")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DESC")]),s._v("\temp_view01\n \n "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VIEW")]),s._v(" emp_view02\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" empno"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("ename "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" emp_view01\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" emp_view02\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br")])]),t("h3",{attrs:{id:"视图最佳实践"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#视图最佳实践"}},[s._v("#")]),s._v(" 视图最佳实践")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://jsdelivr.codeqihan.com//gh/xustudyxu/image-hosting@master/studynotes/MySQL/images/66.png",alt:"04"}})]),s._v(" "),t("h3",{attrs:{id:"视图课堂练习"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#视图课堂练习"}},[s._v("#")]),s._v(" 视图课堂练习")]),s._v(" "),t("blockquote",[t("p",[s._v("针对emp , dept,和salgrade张三表.创建一个视图emp_view03，可以显示雇员编号，雇员名，雇员部门名称和薪水级别[即使用三张表，构建一个视图] view02.sql")])]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 视图的练习")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 针对 emp,dept,和salgrade 张三表，创建一个视图 emp_view03")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 可以显示雇员编号，雇员名，雇员部门名称和薪水级别[即使用三张表，构建一个视图] view02.sql")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/*\n分析：使用三表联合查询，得到结果\n\n*/")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VIEW")]),s._v(" emp_view03\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("  empno"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("ename"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("dname"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("grade\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" emp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("dept"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("salgrade \n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" emp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("deptno"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("dept"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("deptno "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("AND")]),s._v(" \n\t"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sal "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("BETWEEN")]),s._v(" losal "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("AND")]),s._v(" hisal"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\t\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DESC")]),s._v(" emp_view03\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" emp_view03\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br")])]),t("h2",{attrs:{id:"mysql管理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mysql管理"}},[s._v("#")]),s._v(" Mysql管理")]),s._v(" "),t("h3",{attrs:{id:"mysql-用户"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mysql-用户"}},[s._v("#")]),s._v(" Mysql 用户")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://jsdelivr.codeqihan.com//gh/xustudyxu/image-hosting@master/studynotes/MySQL/images/67.png",alt:"04"}})]),s._v(" "),t("p",[t("img",{attrs:{src:"https://jsdelivr.codeqihan.com//gh/xustudyxu/image-hosting@master/studynotes/MySQL/images/68.png",alt:"04"}})]),s._v(" "),t("h3",{attrs:{id:"创建用户"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建用户"}},[s._v("#")]),s._v(" 创建用户")]),s._v(" "),t("p",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("create user  '用户名 '@'允许登录位置'identified by   ‘密码'  ")])],1),s._v(" "),t("p",[s._v("说明:创建用户,同时指定密码")]),s._v(" "),t("h3",{attrs:{id:"删除用户"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#删除用户"}},[s._v("#")]),s._v(" 删除用户")]),s._v(" "),t("p",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("drop user ‘用户名’@’允许登录位置’;")])],1),s._v(" "),t("h3",{attrs:{id:"用户修改密码"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#用户修改密码"}},[s._v("#")]),s._v(" 用户修改密码")]),s._v(" "),t("p",[s._v("修改自己的密码:\n"),t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("set password = password('密码');")]),s._v("\n修改他人的密码（需要有修改用户密码权限):\n"),t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("set password for '用户名'@'登录位置'= password(密码');")])],1),s._v(" "),t("h3",{attrs:{id:"mysql中的权限"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mysql中的权限"}},[s._v("#")]),s._v(" mysql中的权限")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://jsdelivr.codeqihan.com//gh/xustudyxu/image-hosting@master/studynotes/MySQL/images/71.png",alt:"04"}})]),s._v(" "),t("h3",{attrs:{id:"给用户授权"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#给用户授权"}},[s._v("#")]),s._v(" 给用户授权")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://jsdelivr.codeqihan.com//gh/xustudyxu/image-hosting@master/studynotes/MySQL/images/70.png",alt:"04"}})]),s._v(" "),t("h3",{attrs:{id:"回收用户权限"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#回收用户权限"}},[s._v("#")]),s._v(" 回收用户权限")]),s._v(" "),t("p",[s._v("基本语法："),t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("revoke权限列表on库.对象名from '用户名\"@\"登录位置';")])],1),s._v(" "),t("h3",{attrs:{id:"权限生效指令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#权限生效指令"}},[s._v("#")]),s._v(" 权限生效指令")]),s._v(" "),t("p",[s._v("如果权限没有生效，可以执行下面命令.")]),s._v(" "),t("ul",[t("li",[s._v("基本语法:\n"),t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("FLUSH PRIVILEGES;")])],1)]),s._v(" "),t("h3",{attrs:{id:"课堂练习题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#课堂练习题"}},[s._v("#")]),s._v(" 课堂练习题")]),s._v(" "),t("blockquote",[t("p",[s._v("创建一个用户(你的名字，拼音)，密码123，并且只可以从本地登录，不让远程登录mysql\n创建库和表testdb下的news表,要求:使用root用户创建\n给用户分配查看news表和添加数据的权限\n测试看看用户是否只有这几个权限\n修改密码为abc ,要求:使用root用户完成重新登录\n示回收权限\n使用root 用户删除你的用户 演示回收权限")])]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 演示用户权限的管理")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 创建用户 rongxu 密码 123，从本地登录")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("USER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'rongxu'")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@'localhost '")]),s._v(" IDENTIFIED "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'123'")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 使用root 用户创建 testdb，表news")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DATABASE")]),s._v(" testdb\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" news"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\t\n\tid "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INT")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\tcontent "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VARCHAR")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("32")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\t\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 添加一条测试数据")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" news "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'北京新闻'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" news\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 给 rongxu 分配查看 news 表和添加news的权限")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GRANT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" testdb"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("news\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TO")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'rongxu'")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@'localhost'")]),s._v("\n\t\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 可以增加权限")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GRANT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UPDATE")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" testdb"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("news\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TO")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'rongxu'")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@'localhost'")]),s._v("\n\t\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 修改rongxu密码为abc")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" PASSWORD "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FOR")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'rongxu'")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@'localhost'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("PASSWORD"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'abc'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 回收rongxu用户在testdb.news表的所有权限")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("REVOKE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UPDATE")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" testdb"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("news "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'rongxu'")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@'localhost'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("REVOKE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ALL")]),s._v(" testdb"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("news "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'rongxu'")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@'localhost'")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 删除 rongxu用户")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DROP")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("USER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'rongxu'")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@'localhost'")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br")])]),t("h3",{attrs:{id:"细节说明"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#细节说明"}},[s._v("#")]),s._v(" 细节说明")]),s._v(" "),t("ol",[t("li",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("在创建用户的时候，如果不指定Host,则为%，%表示表示所有IP都有连接权限create user XXX;")])],1),s._v(" "),t("li",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("你也可以这样指定 create user 'xxx' @'192.168.1.%’表示xxx用户在192.168.1.*的ip可以登录mysql")])],1),s._v(" "),t("li",[t("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[s._v("在删除用户的时候，如果host 不是%,需要明确指定‘用户'@'host值'")])],1)]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 在创建用户的时候，如果不指定Host,则为%，%表示表示所有IP都有连接权限")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- create user xXx;")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("USER")]),s._v(" jack"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("host"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("user"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" mysql"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),s._v("\n\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 你也可以这样指定")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- create user 'xxx' @'192.168.1.%’表示 xxx用户在192.168.1.*的ip可以登录mysql")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("USER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'smith'")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@'192.168.1.%'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 在删除用户的时候，如果host 不是%,需要明确指定‘用户'@'host值'")]),s._v("\n \n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DROP")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("USER")]),s._v(" jack  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 默认就是 DROP USER 'jack'@'%'")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DROP")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("USER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'smith'")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@'192.168.1.%'")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br")])])])}),[],!1,null,null,null);t.default=e.exports}}]);