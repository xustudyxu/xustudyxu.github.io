(window.webpackJsonp=window.webpackJsonp||[]).push([[366],{715:function(t,v,_){"use strict";_.r(v);var r=_(10),a=Object(r.a)({},(function(){var t=this,v=t._self._c;return v("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[v("h1",{attrs:{id:"linux-组管理和权限管理"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#linux-组管理和权限管理"}},[t._v("#")]),t._v(" Linux 组管理和权限管理")]),t._v(" "),v("h2",{attrs:{id:"linux组基本介绍"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#linux组基本介绍"}},[t._v("#")]),t._v(" Linux组基本介绍")]),t._v(" "),v("p",[t._v("在linux 中的每个用户必须属于一个组，不能独立于组外。在linux中每个文件有所有者、所在组、其它组的概念。")]),t._v(" "),v("ul",[v("li",[t._v("所有者")]),t._v(" "),v("li",[t._v("所在组")]),t._v(" "),v("li",[t._v("其他组")]),t._v(" "),v("li",[t._v("改变用户所在的组")])]),t._v(" "),v("p",[v("img",{attrs:{src:"https://jsdelivr.codeqihan.com//gh/xustudyxu/image-hosting@master/studynotes/Linux/images/8/01.png",alt:"01"}})]),t._v(" "),v("h2",{attrs:{id:"文件-目录-所有者"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#文件-目录-所有者"}},[t._v("#")]),t._v(" 文件/目录 所有者")]),t._v(" "),v("p",[t._v("一般为文件的创建者，谁创建了该文件，就自然的成为该文件的所有者.")]),t._v(" "),v("h3",{attrs:{id:"查看文件的所有者"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#查看文件的所有者"}},[t._v("#")]),t._v(" 查看文件的所有者")]),t._v(" "),v("p",[t._v("指令:"),v("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[t._v("ls -ahl")])],1),t._v(" "),v("h3",{attrs:{id:"修改文件所有者"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#修改文件所有者"}},[t._v("#")]),t._v(" 修改文件所有者")]),t._v(" "),v("p",[t._v("指令:"),v("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[t._v("chown 用户名 文件名")])],1),t._v(" "),v("h2",{attrs:{id:"组的创建"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#组的创建"}},[t._v("#")]),t._v(" 组的创建")]),t._v(" "),v("h3",{attrs:{id:"基本指令"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#基本指令"}},[t._v("#")]),t._v(" 基本指令")]),t._v(" "),v("p",[v("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[t._v("groupadd 组名")])],1),t._v(" "),v("ul",[v("li",[t._v("选项说明")])]),t._v(" "),v("p",[v("strong",[t._v("-g gid :用户组ID")])]),t._v(" "),v("p",[v("strong",[t._v("-r :建立系统组")])]),t._v(" "),v("h3",{attrs:{id:"应用实例"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#应用实例"}},[t._v("#")]),t._v(" 应用实例")]),t._v(" "),v("blockquote",[v("p",[t._v("创建一个组，monster")]),t._v(" "),v("p",[t._v("groupadd monster")]),t._v(" "),v("p",[t._v("创建一个用户fox,并放入到monster组中")]),t._v(" "),v("p",[t._v("useradd -g monster fox")]),t._v(" "),v("p",[t._v("创建普通用户组 group1,其ID值为1000")]),t._v(" "),v("p",[t._v("groupadd -g 1000 group1")])]),t._v(" "),v("h2",{attrs:{id:"文件-目录-所在组"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#文件-目录-所在组"}},[t._v("#")]),t._v(" 文件/目录 所在组")]),t._v(" "),v("p",[t._v("当某个用户创建了一个文件后，这个文件的所在组就是该用户所在的组(默认)。")]),t._v(" "),v("h3",{attrs:{id:"查看文件-目录所在组"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#查看文件-目录所在组"}},[t._v("#")]),t._v(" 查看文件/目录所在组")]),t._v(" "),v("p",[t._v("指令："),v("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[t._v("ls -ahl(ll)")])],1),t._v(" "),v("h3",{attrs:{id:"修改文件-目录所在的组"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#修改文件-目录所在的组"}},[t._v("#")]),t._v(" 修改文件/目录所在的组")]),t._v(" "),v("p",[t._v("指令:"),v("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[t._v(" chgrp 组名 文件名")])],1),t._v(" "),v("ul",[v("li",[t._v("应用实例")])]),t._v(" "),v("blockquote",[v("p",[t._v("使用root用户创建文件orange.txt ,看看当前这个文件属于哪个组，然后将这个文件所在组，修改到 fruit组。")]),t._v(" "),v("p",[t._v("groupadd fruit")]),t._v(" "),v("p",[t._v("touch orange.txt")]),t._v(" "),v("p",[t._v("看看当前这个文件属于哪个组->root组")]),t._v(" "),v("p",[t._v("chgrp fruit orange.txt")])]),t._v(" "),v("h2",{attrs:{id:"其他组"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#其他组"}},[t._v("#")]),t._v(" 其他组")]),t._v(" "),v("p",[t._v("除文件的所有者和所在组的用户外，系统的其它用户都是文件的其它组。")]),t._v(" "),v("h2",{attrs:{id:"改变用户所在组"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#改变用户所在组"}},[t._v("#")]),t._v(" 改变用户所在组")]),t._v(" "),v("p",[t._v("在添加用户时，可以指定将该用户添加到哪个组中，同样的用root的管理权限可以改变某个用户所在的组。")]),t._v(" "),v("h3",{attrs:{id:"基本指令-2"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#基本指令-2"}},[t._v("#")]),t._v(" 基本指令")]),t._v(" "),v("p",[v("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[t._v("usermod 选项 用户名")])],1),t._v(" "),v("ol",[v("li",[v("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[t._v("usermod  -g  新组名用户名")])],1),t._v(" "),v("li",[v("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[t._v("usermod  -d   目录名用户名、改变该用户登陆的初始目录。")]),t._v("特别说明:用户需要有进入到新目录的权限。")],1)]),t._v(" "),v("ul",[v("li",[t._v("选项说明")])]),t._v(" "),v("p",[v("strong",[t._v("-c comment:修改用户的注释信息")])]),t._v(" "),v("p",[v("strong",[t._v("-g group:修改用户所属的主群组")])]),t._v(" "),v("p",[v("strong",[t._v('-G group:修改用户所属的附加群租，多个群组以","分隔.')])]),t._v(" "),v("p",[v("strong",[t._v("-l name:修改用户账号名称")])]),t._v(" "),v("p",[v("strong",[t._v("-L:锁定用户,使其不能登录")])]),t._v(" "),v("p",[v("strong",[t._v("-U:解除对用户的锁定")])]),t._v(" "),v("p",[v("strong",[t._v("-u UID:修改用户的ID值")])]),t._v(" "),v("p",[v("strong",[t._v("-d home:修改用户的主目录")])]),t._v(" "),v("p",[v("strong",[t._v("-p passwd:修改用户密码")])]),t._v(" "),v("ul",[v("li",[t._v("应用实例:")])]),t._v(" "),v("blockquote",[v("p",[t._v("将zwj这个用户从原来所在组，修改到wudang组")]),t._v(" "),v("p",[t._v("usermod -g wudang zwj")])]),t._v(" "),v("h2",{attrs:{id:"权限的基本介绍"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#权限的基本介绍"}},[t._v("#")]),t._v(" 权限的基本介绍")]),t._v(" "),v("p",[t._v("ls -l中显示的内容如下:")]),t._v(" "),v("p",[t._v("-"),v("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[t._v("rwx")]),v("font",{attrs:{color:"#7FFFD4",size:"4",face:"黑体"}},[t._v("rw-")]),v("font",{attrs:{color:"#0000FF",size:"4",face:"黑体"}},[t._v("r--")]),t._v(" 1 root root 1213 Feb 2 09:39 abc")],1),t._v(" "),v("p",[t._v("0-9位说明")]),t._v(" "),v("p",[t._v("第О位确定文件类型(d,- , l ,c , b)")]),t._v(" "),v("p",[v("strong",[t._v("-是普通文件")])]),t._v(" "),v("p",[v("strong",[t._v("l是链接，相当于windows的快捷方式")])]),t._v(" "),v("p",[v("strong",[t._v("d是目录，相当于windows的文件夹")])]),t._v(" "),v("p",[v("strong",[t._v("c是字符设备文件，鼠标，键盘")])]),t._v(" "),v("p",[v("strong",[t._v("b是块设备，比如硬盘")])]),t._v(" "),v("p",[t._v("第1-3位确定"),v("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[t._v("所有者")]),t._v("（该文件的所有者）拥有该文件的权限。--User")],1),t._v(" "),v("p",[t._v("第4-6位确定"),v("font",{attrs:{color:"#7FFFD4",size:"4",face:"黑体"}},[t._v("所属组")]),t._v("（同用户组的)拥有该文件的权限，---Group")],1),t._v(" "),v("p",[t._v("第7-9位确定"),v("font",{attrs:{color:"#0000FF",size:"4",face:"黑体"}},[t._v("其他用户")]),t._v("拥有该文件的权限 ---Other")],1),t._v(" "),v("h2",{attrs:{id:"rwx权限详解-难点"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#rwx权限详解-难点"}},[t._v("#")]),t._v(" rwx权限详解，难点")]),t._v(" "),v("h3",{attrs:{id:"rwx作用到文件"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#rwx作用到文件"}},[t._v("#")]),t._v(" rwx作用到文件")]),t._v(" "),v("ol",[v("li",[v("strong",[t._v("[ r ]代表可读(read):可以读取,查看")])]),t._v(" "),v("li",[v("strong",[t._v("[ w]代表可写(write):可以修改,但是不代表可以删除该文件,删除一个文件的前提条件是对该文件所在的目录有写权限，才能删除该文件.")])]),t._v(" "),v("li",[v("strong",[t._v("[x ]代表可执行(execute);可以被执行")])])]),t._v(" "),v("h3",{attrs:{id:"rwx作用到目录"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#rwx作用到目录"}},[t._v("#")]),t._v(" rwx作用到目录")]),t._v(" "),v("ol",[v("li",[v("strong",[t._v("[ r ]代表可读(read):可以读取，ls查看目录内容")])]),t._v(" "),v("li",[v("strong",[t._v("[ w]代表可写(write):可以修改,对目录内创建+删除+重命名目录")])]),t._v(" "),v("li",[v("strong",[t._v("[x ]代表可执行(execute);可以进入该目录")])])]),t._v(" "),v("h2",{attrs:{id:"文件及目录权限实例案例"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#文件及目录权限实例案例"}},[t._v("#")]),t._v(" 文件及目录权限实例案例")]),t._v(" "),v("h3",{attrs:{id:"ls-l中显示的内容如下"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#ls-l中显示的内容如下"}},[t._v("#")]),t._v(" ls -l中显示的内容如下:")]),t._v(" "),v("p",[t._v("-rwxrw-r-- 1 root root 1213 Feb 2 09:39 abc")]),t._v(" "),v("ul",[v("li",[v("p",[t._v("10个字符确定不同用户能对文件干什么")]),t._v(" "),v("p",[t._v("第一个字符代表文件类型: -l dcb")]),t._v(" "),v("p",[t._v("其余字符每3个一组(rwx)读(r)写(w)执行(x)")]),t._v(" "),v("p",[t._v("第一组rwx:文件拥有者的权限是读、写和执行")]),t._v(" "),v("p",[t._v("第二组rw-:与文件拥有者同一组的用户的权限是读、写但不能执行")]),t._v(" "),v("p",[t._v("第三组r--:不与文件拥有者同组的其他用户的权限是读不能写和执行")])]),t._v(" "),v("li",[v("p",[t._v("可用数字表示为: r=4,w=2,x=1因此rwx=4+2+1=7，数字可以进行组合")])]),t._v(" "),v("li",[v("p",[t._v("其他说明")])])]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[t._v("1")]),t._v(" "),v("th",[t._v("文件:硬连接数或目录:子目录数")])])]),t._v(" "),v("tbody",[v("tr",[v("td",[t._v("root")]),t._v(" "),v("td",[t._v("用户")])]),t._v(" "),v("tr",[v("td",[t._v("root")]),t._v(" "),v("td",[t._v("组")])]),t._v(" "),v("tr",[v("td",[t._v("1213")]),t._v(" "),v("td",[t._v("文件大小(字节)，如果是文件夹，显示4096字节")])]),t._v(" "),v("tr",[v("td",[t._v("Feb 2 09:39")]),t._v(" "),v("td",[t._v("最后修改日期")])]),t._v(" "),v("tr",[v("td",[t._v("abc")]),t._v(" "),v("td",[t._v("文件名或目录名")])])])]),t._v(" "),v("h2",{attrs:{id:"修改权限-chmod"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#修改权限-chmod"}},[t._v("#")]),t._v(" 修改权限-chmod")]),t._v(" "),v("h3",{attrs:{id:"基本说明"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#基本说明"}},[t._v("#")]),t._v(" 基本说明")]),t._v(" "),v("p",[t._v("通过chmod指令，可以修改"),v("strong",[t._v("文件或目录")]),t._v("的权限。")]),t._v(" "),v("h3",{attrs:{id:"第一种方式-变更权限"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#第一种方式-变更权限"}},[t._v("#")]),t._v(" 第一种方式:+,-,=变更权限")]),t._v(" "),v("ul",[v("li",[v("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[t._v("u:所有者   g:所有组  o:其他人  a:所有人(u,g,o的总和)")])],1)]),t._v(" "),v("ol",[v("li",[t._v("chmod u=rwx,g=rx,o=x    文件/目录名")]),t._v(" "),v("li",[t._v("chmod o+w                        文件/目录名")]),t._v(" "),v("li",[t._v("chmod a-x                          文件/目录名")])]),t._v(" "),v("ul",[v("li",[t._v("案列演示:")])]),t._v(" "),v("blockquote",[v("p",[t._v("给abc 文件的所有者读写执行的权限，给所在组读执行权限，给其它组读执行权限。")]),t._v(" "),v("p",[t._v("chmod u=rwx,g=rx,0=rx abc")]),t._v(" "),v("p",[t._v("给abc文件的所有者除去执行的权限，增加组写的权限")]),t._v(" "),v("p",[t._v("chmod u-x,g+w abc")]),t._v(" "),v("p",[t._v("给abc文件的所有用户添加读的权限")]),t._v(" "),v("p",[t._v("chmod a+r abc")])]),t._v(" "),v("h2",{attrs:{id:"修改文件所有者-chown"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#修改文件所有者-chown"}},[t._v("#")]),t._v(" 修改文件所有者-chown")]),t._v(" "),v("h3",{attrs:{id:"基本介绍"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#基本介绍"}},[t._v("#")]),t._v(" 基本介绍")]),t._v(" "),v("ul",[v("li",[v("p",[v("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[t._v("chown newowner文件/目录改变所有者")])],1)]),t._v(" "),v("li",[v("p",[v("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[t._v("chown newowner:newgroup文件/目录改变所有者和所在组")])],1)]),t._v(" "),v("li",[v("p",[v("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[t._v("-R  如果是目录则使其下所有子文件或目录递归生效")])],1)]),t._v(" "),v("li",[v("p",[t._v("案例演示：")])])]),t._v(" "),v("blockquote",[v("p",[t._v("请将/homelabc.txt文件的所有者修改成tom")]),t._v(" "),v("p",[t._v("chown tom /home/abc.txt")]),t._v(" "),v("p",[t._v("请将/home/test目录下所有的文件和目录的所有者都修改成tom")]),t._v(" "),v("p",[t._v("chown -R tom /home/test")])]),t._v(" "),v("h2",{attrs:{id:"修改文件-目录所在组-chgrp"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#修改文件-目录所在组-chgrp"}},[t._v("#")]),t._v(" 修改文件/目录所在组-chgrp")]),t._v(" "),v("h3",{attrs:{id:"基本介绍-2"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#基本介绍-2"}},[t._v("#")]),t._v(" 基本介绍")]),t._v(" "),v("p",[v("font",{attrs:{color:"#DC4040",size:"4",face:"黑体"}},[t._v("chgrp newgroup文件/目录 【改变所在组】")])],1),t._v(" "),v("h3",{attrs:{id:"案例演示"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#案例演示"}},[t._v("#")]),t._v(" 案例演示")]),t._v(" "),v("blockquote",[v("p",[t._v("请将/home/abc .txt文件的所在组修改成shaolin(少林)")]),t._v(" "),v("p",[t._v("groupadd shaolin")]),t._v(" "),v("p",[t._v("chgrp shaolin /home/abc.txt")]),t._v(" "),v("p",[t._v("请将/home/test目录下所有的文件和目录的所在组都修改成shaolin(少林)")]),t._v(" "),v("p",[t._v("chgrp -R shaolin /home/test")])]),t._v(" "),v("h2",{attrs:{id:"最佳实践-警察和土匪游戏"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#最佳实践-警察和土匪游戏"}},[t._v("#")]),t._v(" 最佳实践-警察和土匪游戏")]),t._v(" "),v("p",[t._v("police,bandit")]),t._v(" "),v("p",[t._v("jack,jerry:警察")]),t._v(" "),v("p",[t._v("xh,xq:土匪")]),t._v(" "),v("ol",[v("li",[t._v("创建组")])]),t._v(" "),v("blockquote",[v("p",[t._v("groupadd police;groupadd bandit")])]),t._v(" "),v("ol",{attrs:{start:"2"}},[v("li",[t._v("创建用户")])]),t._v(" "),v("blockquote",[v("p",[t._v("useradd -g police jack;useradd -g police\tjerry")]),t._v(" "),v("p",[t._v("useradd -g bandit xh;useradd -g bandit xq")])]),t._v(" "),v("ol",{attrs:{start:"3"}},[v("li",[t._v("jack创建一个文件，自己可以读r写w，本组人可以读，其它组没人任何权限首先jack 登录 ;")])]),t._v(" "),v("blockquote",[v("p",[t._v("首先登陆jack,vim jack.txt;chmod 640 jack.txt")])]),t._v(" "),v("ol",{attrs:{start:"4"}},[v("li",[t._v("jack修改该文件，让其它组人可以读,本组人可以读写")])]),t._v(" "),v("blockquote",[v("p",[t._v("chmod o=r,g=wr jack.txt")])]),t._v(" "),v("ol",{attrs:{start:"5"}},[v("li",[t._v("xh投靠警察，看看是否可以读写.")])]),t._v(" "),v("blockquote",[v("p",[t._v("usermod -g police xh")])]),t._v(" "),v("ol",{attrs:{start:"6"}},[v("li",[t._v("测试，看看xh是否可以读写，xq是否可以,小结论，就是如果要对目录内的文件进行操作，需要要有对该目录的相应权限")])]),t._v(" "),v("blockquote",[v("p",[t._v("可以用root或者jack把home下jack所在组的读写权限打开,xh就可读写")]),t._v(" "),v("p",[t._v("在jackhome目录下 执行chmod 770 jack")])])])}),[],!1,null,null,null);v.default=a.exports}}]);